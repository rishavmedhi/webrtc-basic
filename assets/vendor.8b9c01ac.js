function e(e){var t={exports:{}};return e(t,t.exports),t.exports
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/}var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u},a=e((function(e,t){var n=60103,r=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,a=60110,s=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var l=Symbol.for;n=l("react.element"),r=l("react.portal"),t.Fragment=l("react.fragment"),t.StrictMode=l("react.strict_mode"),t.Profiler=l("react.profiler"),i=l("react.provider"),a=l("react.context"),s=l("react.forward_ref"),t.Suspense=l("react.suspense"),u=l("react.memo"),c=l("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p={};function y(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||d}function v(){}function m(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||d}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var g=m.prototype=new v;g.constructor=m,o(g,y.prototype),g.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:b.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+I(u,0):o,Array.isArray(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),k(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=o+I(s=e[c],c);u+=k(s,t,i,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=k(s=s.value,t,i,l=o+I(s,c++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function D(){var e=x.current;if(null===e)throw Error(h(321));return e}var A={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:o};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(h(143));return e}},t.Component=y,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null==e)throw Error(h(267,e));var i=o({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"})),s=e((function(e){e.exports=a})),u=e((function(e,t){var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,f=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(f,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,v=null,m=-1,g=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+g;try{v(!0,e)?E.postMessage(null):(y=!1,v=null)}catch(n){throw E.postMessage(null),n}}else y=!1},n=function(e){v=e,y||(y=!0,E.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],N=[],C=1,x=null,D=3,A=!1,P=!1,L=!1;function O(e){for(var t=S(N);null!==t;){if(null===t.callback)T(N);else{if(!(t.startTime<=e))break;T(N),t.sortIndex=t.expirationTime,_(k,t)}t=S(N)}}function R(e){if(L=!1,O(e),!P)if(null!==S(k))P=!0,n(M);else{var t=S(N);null!==t&&r(R,t.startTime-e)}}function M(e,n){P=!1,L&&(L=!1,i()),A=!0;var o=D;try{for(O(n),x=S(k);null!==x&&(!(x.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=x.callback;if("function"==typeof a){x.callback=null,D=x.priorityLevel;var s=a(x.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?x.callback=s:x===S(k)&&T(k),O(n)}else T(k);x=S(k)}if(null!==x)var u=!0;else{var c=S(N);null!==c&&r(R,c.startTime-n),u=!1}return u}finally{x=null,D=o,A=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return S(k)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,_(N,e),null===S(k)&&e===S(N)&&(L?i():L=!0,r(R,a-s))):(e.sortIndex=u,_(k,e),P||A||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}})),c=e((function(e){e.exports=u}));
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!s)throw Error(l(227));var f=new Set,h={};function d(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(h[e]=t,e=0;e<t.length;e++)f.add(t[e])}var y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m=Object.prototype.hasOwnProperty,g={},b={};function w(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){E[e]=new w(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];E[t]=new w(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){E[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){E[e]=new w(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){E[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){E[e]=new w(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){E[e]=new w(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){E[e]=new w(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){E[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function S(e){return e[1].toUpperCase()}function T(e,t,n,r){var i=E.hasOwnProperty(t)?E[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!m.call(b,e)||!m.call(g,e)&&(v.test(e)?b[e]=!0:(g[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_,S);E[t]=new w(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_,S);E[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_,S);E[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){E[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)})),E.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){E[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)}));var I=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,N=60106,C=60107,x=60108,D=60114,A=60109,P=60110,L=60112,O=60113,R=60120,M=60115,F=60116,U=60121,V=60128,q=60129,j=60130,z=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;k=B("react.element"),N=B("react.portal"),C=B("react.fragment"),x=B("react.strict_mode"),D=B("react.profiler"),A=B("react.provider"),P=B("react.context"),L=B("react.forward_ref"),O=B("react.suspense"),R=B("react.suspense_list"),M=B("react.memo"),F=B("react.lazy"),U=B("react.block"),B("react.scope"),V=B("react.opaque.id"),q=B("react.debug_trace_mode"),j=B("react.offscreen"),z=B("react.legacy_hidden")}var K,G="function"==typeof Symbol&&Symbol.iterator;function Q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=G&&e[G]||e["@@iterator"])?e:null}function H(e){if(void 0===K)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);K=t&&t[1]||""}return"\n"+K+e}var W=!1;function $(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function Y(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 22:return e=$(e.type._render,!1);case 1:return e=$(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case N:return"Portal";case D:return"Profiler";case x:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return X(e.type);case U:return X(e._render);case F:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}function J(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ee(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ne(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function re(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ie(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=J(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function oe(e,t){null!=(t=t.checked)&&T(e,"checked",t,!1)}function ae(e,t){oe(e,t);var n=J(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ue(e,t.type,n):t.hasOwnProperty("defaultValue")&&ue(e,t.type,J(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ue(e,t,n){"number"===t&&ne(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ce(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return s.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function le(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+J(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function fe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(l(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function he(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(l(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(l(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:J(n)}}function de(e,t){var n=J(t.value),r=J(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ye="http://www.w3.org/1999/xhtml",ve="http://www.w3.org/2000/svg";function me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var be,we,Ee=(we=function(e,t){if(e.namespaceURI!==ve||"innerHTML"in e)e.innerHTML=t;else{for((be=be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return we(e,t)}))}:we);function _e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Se={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Te=["Webkit","ms","Moz","O"];function Ie(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Se.hasOwnProperty(e)&&Se[e]?(""+t).trim():t+"px"}function ke(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ie(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Se).forEach((function(e){Te.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Se[t]=Se[e]}))}));var Ne=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(Ne[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(l(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(l(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(l(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function De(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Pe=null,Le=null;function Oe(e){if(e=ii(e)){if("function"!=typeof Ae)throw Error(l(280));var t=e.stateNode;t&&(t=ai(t),Ae(e.stateNode,e.type,t))}}function Re(e){Pe?Le?Le.push(e):Le=[e]:Pe=e}function Me(){if(Pe){var e=Pe,t=Le;if(Le=Pe=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Fe(e,t){return e(t)}function Ue(e,t,n,r,i){return e(t,n,r,i)}function Ve(){}var qe=Fe,je=!1,ze=!1;function Be(){null===Pe&&null===Le||(Ve(),Me())}function Ke(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(l(231,t,typeof n));return n}var Ge=!1;if(y)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch(we){Ge=!1}function He(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,$e=null,Ye=!1,Xe=null,Je={onError:function(e){We=!0,$e=e}};function Ze(e,t,n,r,i,o,a,s,u){We=!1,$e=null,He.apply(Je,arguments)}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(l(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(l(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var ot,at,st,ut,ct=!1,lt=[],ft=null,ht=null,dt=null,pt=new Map,yt=new Map,vt=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function bt(e,t){switch(e){case"focusin":case"focusout":ft=null;break;case"dragenter":case"dragleave":ht=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yt.delete(t.pointerId)}}function wt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=gt(t,n,r,i,o),null!==t&&(null!==(t=ii(t))&&at(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Et(e){var t=ri(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void ut(e.lanePriority,(function(){c.unstable_runWithPriority(e.priority,(function(){st(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ii(n))&&at(t),e.blockedOn=n,!1;t.shift()}return!0}function St(e,t,n){_t(e)&&n.delete(t)}function Tt(){for(ct=!1;0<lt.length;){var e=lt[0];if(null!==e.blockedOn){null!==(e=ii(e.blockedOn))&&ot(e);break}for(var t=e.targetContainers;0<t.length;){var n=rn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&lt.shift()}null!==ft&&_t(ft)&&(ft=null),null!==ht&&_t(ht)&&(ht=null),null!==dt&&_t(dt)&&(dt=null),pt.forEach(St),yt.forEach(St)}function It(e,t){e.blockedOn===t&&(e.blockedOn=null,ct||(ct=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Tt)))}function kt(e){function t(t){return It(t,e)}if(0<lt.length){It(lt[0],e);for(var n=1;n<lt.length;n++){var r=lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ft&&It(ft,e),null!==ht&&It(ht,e),null!==dt&&It(dt,e),pt.forEach(t),yt.forEach(t),n=0;n<vt.length;n++)(r=vt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<vt.length&&null===(n=vt[0]).blockedOn;)Et(n),null===n.blockedOn&&vt.shift()}function Nt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:Nt("Animation","AnimationEnd"),animationiteration:Nt("Animation","AnimationIteration"),animationstart:Nt("Animation","AnimationStart"),transitionend:Nt("Transition","TransitionEnd")},xt={},Dt={};function At(e){if(xt[e])return xt[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in Dt)return xt[e]=n[t];return e}y&&(Dt=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var Pt=At("animationend"),Lt=At("animationiteration"),Ot=At("animationstart"),Rt=At("transitionend"),Mt=new Map,Ft=new Map,Ut=["abort","abort",Pt,"animationEnd",Lt,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ft.set(r,t),Mt.set(r,i),d(i,[r])}}(0,c.unstable_now)();var qt=8;function jt(e){if(0!=(1&e))return qt=15,1;if(0!=(2&e))return qt=14,2;if(0!=(4&e))return qt=13,4;var t=24&e;return 0!==t?(qt=12,t):0!=(32&e)?(qt=11,32):0!==(t=192&e)?(qt=10,t):0!=(256&e)?(qt=9,256):0!==(t=3584&e)?(qt=8,t):0!=(4096&e)?(qt=7,4096):0!==(t=4186112&e)?(qt=6,t):0!==(t=62914560&e)?(qt=5,t):67108864&e?(qt=4,67108864):0!=(134217728&e)?(qt=3,134217728):0!==(t=805306368&e)?(qt=2,t):0!=(1073741824&e)?(qt=1,1073741824):(qt=8,e)}function zt(e,t){var n=e.pendingLanes;if(0===n)return qt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=qt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=jt(u),i=qt):0!==(s&=o)&&(r=jt(s),i=qt)}else 0!==(o=n&~a)?(r=jt(o),i=qt):0!==s&&(r=jt(s),i=qt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(jt(t),i<=qt)return t;qt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Kt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Gt(24&~t))?Kt(10,t):e;case 10:return 0===(e=Gt(192&~t))?Kt(8,t):e;case 8:return 0===(e=Gt(3584&~t))&&(0===(e=Gt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Gt(805306368&~t))&&(t=268435456),t}throw Error(l(358,e))}function Gt(e){return e&-e}function Qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Yt|0)|0},$t=Math.log,Yt=Math.LN2;var Xt=c.unstable_UserBlockingPriority,Jt=c.unstable_runWithPriority,Zt=!0;function en(e,t,n,r){je||Ve();var i=nn,o=je;je=!0;try{Ue(i,e,t,n,r)}finally{(je=o)||Be()}}function tn(e,t,n,r){Jt(Xt,nn.bind(null,e,t,n,r))}function nn(e,t,n,r){var i;if(Zt)if((i=0==(4&t))&&0<lt.length&&-1<mt.indexOf(e))e=gt(null,e,t,n,r),lt.push(e);else{var o=rn(e,t,n,r);if(null===o)i&&bt(e,r);else{if(i){if(-1<mt.indexOf(e))return e=gt(o,e,t,n,r),void lt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ft=wt(ft,e,t,n,r,i),!0;case"dragenter":return ht=wt(ht,e,t,n,r,i),!0;case"mouseover":return dt=wt(dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return pt.set(o,wt(pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yt.set(o,wt(yt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;bt(e,r)}Mr(e,t,r,null,n)}}}function rn(e,t,n,r){var i=De(r);if(null!==(i=ri(i))){var o=et(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=tt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var on=null,an=null,sn=null;function un(){if(sn)return sn;var e,t,n=an,r=n.length,i="value"in on?on.value:on.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return sn=i.slice(e,1<t?1-t:void 0)}function cn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ln(){return!0}function fn(){return!1}function hn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ln:fn,this.isPropagationStopped=fn,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ln)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ln)},persist:function(){},isPersistent:ln}),t}var dn,pn,yn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mn=hn(vn),gn=o({},vn,{view:0,detail:0}),bn=hn(gn),wn=o({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&"mousemove"===e.type?(dn=e.screenX-yn.screenX,pn=e.screenY-yn.screenY):pn=dn=0,yn=e),dn)},movementY:function(e){return"movementY"in e?e.movementY:pn}}),En=hn(wn),_n=hn(o({},wn,{dataTransfer:0})),Sn=hn(o({},gn,{relatedTarget:0})),Tn=hn(o({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),In=hn(o({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),kn=hn(o({},vn,{data:0})),Nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function An(){return Dn}var Pn=hn(o({},gn,{key:function(e){if(e.key){var t=Nn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=cn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?cn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?cn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Ln=hn(o({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=hn(o({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Rn=hn(o({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=hn(o({},wn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Fn=[9,13,27,32],Un=y&&"CompositionEvent"in window,Vn=null;y&&"documentMode"in document&&(Vn=document.documentMode);var qn=y&&"TextEvent"in window&&!Vn,jn=y&&(!Un||Vn&&8<Vn&&11>=Vn),zn=String.fromCharCode(32),Bn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){Re(r),0<(t=Ur(t,"onChange")).length&&(n=new mn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Dr(e,0)}function Zn(e){if(te(oi(e)))return e}function er(e,t){if("change"===e)return t}var tr=!1;if(y){var nr;if(y){var rr="oninput"in document;if(!rr){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),rr="function"==typeof ir.oninput}nr=rr}else nr=!1;tr=nr&&(!document.documentMode||9<document.documentMode)}function or(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];if($n(t,Xn,e,De(e)),e=Jn,je)e(t);else{je=!0;try{Fe(e,t)}finally{je=!1,Be()}}}}function sr(e,t,n){"focusin"===e?(or(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&or()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function cr(e,t){if("click"===e)return Zn(t)}function lr(e,t){if("input"===e||"change"===e)return Zn(t)}var fr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},hr=Object.prototype.hasOwnProperty;function dr(e,t){if(fr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!fr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=ne();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ne((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var br=y&&"documentMode"in document&&11>=document.documentMode,wr=null,Er=null,_r=null,Sr=!1;function Tr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==wr||wr!==ne(r)||("selectionStart"in(r=wr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&dr(_r,r)||(_r=r,0<(r=Ur(Er,"onSelect")).length&&(t=new mn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}Vt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Ut,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Ir.length;kr++)Ft.set(Ir[kr],0);p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,u){if(Ze.apply(this,arguments),We){if(!We)throw Error(l(198));var c=$e;We=!1,$e=null,Ye||(Ye=!0,Xe=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;xr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;xr(i,s,c),o=u}}}if(Ye)throw e=Xe,Ye=!1,Xe=null,e}function Ar(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){e[Pr]||(e[Pr]=!0,f.forEach((function(t){Cr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=si(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Rr(o,e,i,t),a.add(s))}function Rr(e,t,n,r){var i=Ft.get(t);switch(void 0===i?2:i){case 0:i=en;break;case 1:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!Ge||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ri(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(ze)return e(t,n);ze=!0;try{qe(e,t,n)}finally{ze=!1,Be()}}((function(){var r=o,i=De(n),a=[];e:{var s=Mt.get(e);if(void 0!==s){var u=mn,c=e;switch(e){case"keypress":if(0===cn(n))break e;case"keydown":case"keyup":u=Pn;break;case"focusin":c="focus",u=Sn;break;case"focusout":c="blur",u=Sn;break;case"beforeblur":case"afterblur":u=Sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Pt:case Lt:case Ot:u=Tn;break;case Rt:u=Rn;break;case"scroll":u=bn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Ln}var l=0!=(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var y=(d=p).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==h&&(null!=(y=Ke(p,h))&&l.push(Fr(p,y,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!ri(c)&&!c[ti])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ri(c):null)&&(c!==(f=et(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=En,y="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Ln,y="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:oi(u),d=null==c?s:oi(c),(s=new l(y,p+"leave",u,n,i)).target=f,s.relatedTarget=d,y=null,ri(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,y=l),f=y,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Vr(d))p++;for(d=0,y=h;y;y=Vr(y))d++;for(;0<p-d;)l=Vr(l),p--;for(;0<d-p;)h=Vr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Vr(l),h=Vr(h)}l=null}else l=null;null!==u&&qr(a,s,u,l,!1),null!==c&&null!==f&&qr(a,f,c,l,!0)}if("select"===(u=(s=r?oi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=er;else if(Wn(s))if(tr)v=lr;else{v=ur;var m=sr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=cr);switch(v&&(v=v(e,r))?$n(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ue(s,"number",s.value)),m=r?oi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(wr=m,Er=r,_r=null);break;case"focusout":_r=Er=wr=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,Tr(a,n,i);break;case"selectionchange":if(br)break;case"keydown":case"keyup":Tr(a,n,i)}var g;if(Un)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Qn?Kn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Qn&&(g=un()):(an="value"in(on=i)?on.value:on.textContent,Qn=!0)),0<(m=Ur(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=Gn(n))&&(b.data=g))),(g=qn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!Un&&Kn(e,t)?(e=un(),sn=an=on=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Dr(a,t)}))}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ke(e,n))&&r.unshift(Fr(e,o,i)),null!=(o=Ke(e,t))&&r.push(Fr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ke(n,o))&&a.unshift(Fr(n,u,s)):i||null!=(u=Ke(n,o))&&a.push(Fr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var zr=null,Br=null;function Kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Jr,ei="__reactProps$"+Jr,ti="__reactContainer$"+Jr,ni="__reactEvents$"+Jr;function ri(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ti]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Zr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ii(e){return!(e=e[Zr]||e[ti])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function oi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(l(33))}function ai(e){return e[ei]||null}function si(e){var t=e[ni];return void 0===t&&(t=e[ni]=new Set),t}var ui=[],ci=-1;function li(e){return{current:e}}function fi(e){0>ci||(e.current=ui[ci],ui[ci]=null,ci--)}function hi(e,t){ci++,ui[ci]=e.current,e.current=t}var di={},pi=li(di),yi=li(!1),vi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=(e=e.childContextTypes)}function bi(){fi(yi),fi(pi)}function wi(e,t,n){if(pi.current!==di)throw Error(l(168));hi(pi,t),hi(yi,n)}function Ei(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(l(108,X(t)||"Unknown",i));return o({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,vi=pi.current,hi(pi,e),hi(yi,yi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(l(169));n?(e=Ei(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,fi(yi),fi(pi),hi(pi,e)):fi(yi),hi(yi,n)}var Ti=null,Ii=null,ki=c.unstable_runWithPriority,Ni=c.unstable_scheduleCallback,Ci=c.unstable_cancelCallback,xi=c.unstable_shouldYield,Di=c.unstable_requestPaint,Ai=c.unstable_now,Pi=c.unstable_getCurrentPriorityLevel,Li=c.unstable_ImmediatePriority,Oi=c.unstable_UserBlockingPriority,Ri=c.unstable_NormalPriority,Mi=c.unstable_LowPriority,Fi=c.unstable_IdlePriority,Ui={},Vi=void 0!==Di?Di:function(){},qi=null,ji=null,zi=!1,Bi=Ai(),Ki=1e4>Bi?Ai:function(){return Ai()-Bi};function Gi(){switch(Pi()){case Li:return 99;case Oi:return 98;case Ri:return 97;case Mi:return 96;case Fi:return 95;default:throw Error(l(332))}}function Qi(e){switch(e){case 99:return Li;case 98:return Oi;case 97:return Ri;case 96:return Mi;case 95:return Fi;default:throw Error(l(332))}}function Hi(e,t){return e=Qi(e),ki(e,t)}function Wi(e,t,n){return e=Qi(e),Ni(e,t,n)}function $i(){if(null!==ji){var e=ji;ji=null,Ci(e)}Yi()}function Yi(){if(!zi&&null!==qi){zi=!0;var e=0;try{var t=qi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),qi=null}catch(n){throw null!==qi&&(qi=qi.slice(e+1)),Ni(Li,$i),n}finally{zi=!1}}}var Xi=I.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=li(null),eo=null,to=null,no=null;function ro(){no=to=eo=null}function io(e){var t=Zi.current;fi(Zi),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ao(e,t){eo=e,no=to=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ua=!0),e.firstContext=null)}function so(e,t){if(no!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(no=e,t=1073741823),t={context:e,observedBits:t,next:null},null===to){if(null===eo)throw Error(l(308));to=t,eo.dependencies={lanes:0,firstContext:t,responders:null}}else to=to.next=t;return e._currentValue}var uo=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yo(e,t,n,r){var i=e.updateQueue;uo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=i.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,y=a;switch(u=t,d=n,y.tag){case 1:if("function"==typeof(p=y.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=y.payload)?p.call(d,h,u):p))break e;h=o({},h,u);break e;case 2:uo=!0}}null!==a.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=i.shared.pending))break;a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===f&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(l(191,i));i.call(r)}}}var mo=(new s.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var bo={isMounted:function(e){return!!(e=e._reactInternals)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),i=pu(e),o=fo(r,i);o.payload=t,null!=n&&(o.callback=n),ho(e,o),yu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),i=pu(e),o=fo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ho(e,o),yu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=pu(e),i=fo(n,r);i.tag=2,null!=t&&(i.callback=t),ho(e,i),yu(e,r,n)}};function wo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function Eo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=so(o):(i=gi(t)?vi:pi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function So(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,co(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=so(o):(o=gi(t)?vi:pi.current,i.context=mi(e,o)),yo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&bo.enqueueReplaceState(i,i.state,null),yo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var To=Array.isArray;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(l(309));var r=n.stateNode}if(!r)throw Error(l(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(l(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function No(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Io(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=Io(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=$u(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case N:return(t=Ju(t,e.mode,n)).return=e,t}if(To(t)||Q(t))return(t=$u(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===C?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case N:return n.key===i?c(e,t,n,r):null}if(To(n)||Q(n))return null!==i?null:f(e,t,n,r,null);ko(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===C?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case N:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(To(r)||Q(r))return f(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}return function(s,u,c,f){var y="object"==typeof c&&null!==c&&c.type===C&&null===c.key;y&&(c=c.props.children);var v="object"==typeof c&&null!==c;if(v)switch(c.$$typeof){case k:e:{for(v=c.key,y=u;null!==y;){if(y.key===v){switch(y.tag){case 7:if(c.type===C){n(s,y.sibling),(u=i(y,c.props.children)).return=s,s=u;break e}break;default:if(y.elementType===c.type){n(s,y.sibling),(u=i(y,c.props)).ref=Io(s,y,c),u.return=s,s=u;break e}}n(s,y);break}t(s,y),y=y.sibling}c.type===C?((u=$u(c.props.children,s.mode,f,c.key)).return=s,s=u):((f=Wu(c.type,c.key,c.props,null,s.mode,f)).ref=Io(s,u,c),f.return=s,s=f)}return a(s);case N:e:{for(y=c.key;null!==u;){if(u.key===y){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(u=i(u,c.children||[])).return=s,s=u;break e}n(s,u);break}t(s,u),u=u.sibling}(u=Ju(c,s.mode,f)).return=s,s=u}return a(s)}if("string"==typeof c||"number"==typeof c)return c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(u=i(u,c)).return=s,s=u):(n(s,u),(u=Xu(c,s.mode,f)).return=s,s=u),a(s);if(To(c))return function(i,a,s,u){for(var c=null,l=null,f=a,y=a=0,v=null;null!==f&&y<s.length;y++){f.index>y?(v=f,f=null):v=f.sibling;var m=d(i,f,s[y],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,y),null===l?c=m:l.sibling=m,l=m,f=v}if(y===s.length)return n(i,f),c;if(null===f){for(;y<s.length;y++)null!==(f=h(i,s[y],u))&&(a=o(f,a,y),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);y<s.length;y++)null!==(v=p(f,i,y,s[y],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?y:v.key),a=o(v,a,y),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}(s,u,c,f);if(Q(c))return function(i,a,s,u){var c=Q(s);if("function"!=typeof c)throw Error(l(150));if(null==(s=c.call(s)))throw Error(l(151));for(var f=c=null,y=a,v=a=0,m=null,g=s.next();null!==y&&!g.done;v++,g=s.next()){y.index>v?(m=y,y=null):m=y.sibling;var b=d(i,y,g.value,u);if(null===b){null===y&&(y=m);break}e&&y&&null===b.alternate&&t(i,y),a=o(b,a,v),null===f?c=b:f.sibling=b,f=b,y=m}if(g.done)return n(i,y),c;if(null===y){for(;!g.done;v++,g=s.next())null!==(g=h(i,g.value,u))&&(a=o(g,a,v),null===f?c=g:f.sibling=g,f=g);return c}for(y=r(i,y);!g.done;v++,g=s.next())null!==(g=p(y,i,v,g.value,u))&&(e&&null!==g.alternate&&y.delete(null===g.key?v:g.key),a=o(g,a,v),null===f?c=g:f.sibling=g,f=g);return e&&y.forEach((function(e){return t(i,e)})),c}(s,u,c,f);if(v&&ko(s,c),void 0===c&&!y)switch(s.tag){case 1:case 22:case 0:case 11:case 15:throw Error(l(152,X(s.type)||"Component"))}return n(s,u)}}var Co=No(!0),xo=No(!1),Do={},Ao=li(Do),Po=li(Do),Lo=li(Do);function Oo(e){if(e===Do)throw Error(l(174));return e}function Ro(e,t){switch(hi(Lo,t),hi(Po,e),hi(Ao,Do),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ge(null,"");break;default:t=ge(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}fi(Ao),hi(Ao,t)}function Mo(){fi(Ao),fi(Po),fi(Lo)}function Fo(e){Oo(Lo.current);var t=Oo(Ao.current),n=ge(t,e.type);t!==n&&(hi(Po,e),hi(Ao,n))}function Uo(e){Po.current===e&&(fi(Ao),fi(Po))}var Vo=li(0);function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,zo=null,Bo=!1;function Ko(e,t){var n=Gu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Qo(e){if(Bo){var t=zo;if(t){var n=t;if(!Go(e,t)){if(!(t=$r(n.nextSibling))||!Go(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(jo=e);Ko(jo,n)}jo=e,zo=$r(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,jo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Wo(e){if(e!==jo)return!1;if(!Bo)return Ho(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gr(t,e.memoizedProps))for(t=zo;t;)Ko(e,t),t=$r(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){zo=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}zo=null}}else zo=jo?$r(e.stateNode.nextSibling):null;return!0}function $o(){zo=jo=null,Bo=!1}var Yo=[];function Xo(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Jo=I.ReactCurrentDispatcher,Zo=I.ReactCurrentBatchConfig,ea=0,ta=null,na=null,ra=null,ia=!1,oa=!1;function aa(){throw Error(l(321))}function sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fr(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,i,o){if(ea=o,ta=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?Oa:Ra,e=n(r,i),oa){o=0;do{if(oa=!1,!(25>o))throw Error(l(301));o+=1,ra=na=null,t.updateQueue=null,Jo.current=Ma,e=n(r,i)}while(oa)}if(Jo.current=La,t=null!==na&&null!==na.next,ea=0,ra=na=ta=null,ia=!1,t)throw Error(l(300));return e}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ra?ta.memoizedState=ra=e:ra=ra.next=e,ra}function la(){if(null===na){var e=ta.alternate;e=null!==e?e.memoizedState:null}else e=na.next;var t=null===ra?ta.memoizedState:ra.next;if(null!==t)ra=t,na=e;else{if(null===e)throw Error(l(310));e={memoizedState:(na=e).memoizedState,baseState:na.baseState,baseQueue:na.baseQueue,queue:na.queue,next:null},null===ra?ta.memoizedState=ra=e:ra=ra.next=e}return ra}function fa(e,t){return"function"==typeof t?t(e):t}function ha(e){var t=la(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=na,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,u=i;do{var c=u.lane;if((ea&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(a=s=f,o=r):s=s.next=f,ta.lanes|=c,zs|=c}u=u.next}while(null!==u&&u!==i);null===s?o=r:s.next=a,fr(r,t.memoizedState)||(Ua=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=la(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);fr(o,t.memoizedState)||(Ua=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function pa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(ea&e)===e)&&(t._workInProgressVersionPrimary=r,Yo.push(t))),e)return n(t._source);throw Yo.push(t),Error(l(350))}function ya(e,t,n,r){var i=Os;if(null===i)throw Error(l(349));var o=t._getVersion,a=o(t._source),s=Jo.current,u=s.useState((function(){return pa(i,t,n)})),c=u[1],f=u[0];u=ra;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,y=h.source;h=h.subscribe;var v=ta;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!fr(a,e)){e=n(t._source),fr(f,e)||(c(e),e=pu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var u=31-Wt(s),l=1<<u;r[u]|=e,s&=~l}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=pu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),fr(p,n)&&fr(y,t)&&fr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:f}).dispatch=c=Pa.bind(null,ta,e),u.queue=e,u.baseQueue=null,f=pa(i,t,n),u.memoizedState=u.baseState=f),f}function va(e,t,n){return ya(la(),e,t,n)}function ma(e){var t=ca();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e}).dispatch=Pa.bind(null,ta,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ta.updateQueue)?(t={lastEffect:null},ta.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ba(e){return e={current:e},ca().memoizedState=e}function wa(){return la().memoizedState}function Ea(e,t,n,r){var i=ca();ta.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==na){var a=na.memoizedState;if(o=a.destroy,null!==r&&sa(r,a.deps))return void ga(t,n,o,r)}ta.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function Sa(e,t){return Ea(516,4,e,t)}function Ta(e,t){return _a(516,4,e,t)}function Ia(e,t){return _a(4,2,e,t)}function ka(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Na(e,t,n){return n=null!=n?n.concat([e]):null,_a(4,2,ka.bind(null,t,e),n)}function Ca(){}function xa(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Da(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Aa(e,t){var n=Gi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Zo.transition;Zo.transition=1;try{e(!1),t()}finally{Zo.transition=n}}))}function Pa(e,t,n){var r=du(),i=pu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ta||null!==a&&a===ta)oa=ia=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,fr(u,s))return}catch(c){}yu(e,i,r)}}var La={readContext:so,useCallback:aa,useContext:aa,useEffect:aa,useImperativeHandle:aa,useLayoutEffect:aa,useMemo:aa,useReducer:aa,useRef:aa,useState:aa,useDebugValue:aa,useDeferredValue:aa,useTransition:aa,useMutableSource:aa,useOpaqueIdentifier:aa,unstable_isNewReconciler:!1},Oa={readContext:so,useCallback:function(e,t){return ca().memoizedState=[e,void 0===t?null:t],e},useContext:so,useEffect:Sa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ea(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ea(4,2,e,t)},useMemo:function(e,t){var n=ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,ta,e),[r.memoizedState,e]},useRef:ba,useState:ma,useDebugValue:Ca,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return Sa((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ba(e=Aa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ca();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ya(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:V,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(l(355))})),n=ma(t)[1];return 0==(2&ta.mode)&&(ta.flags|=516,ga(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:so,useCallback:xa,useContext:so,useEffect:Ta,useImperativeHandle:Na,useLayoutEffect:Ia,useMemo:Da,useReducer:ha,useRef:wa,useState:function(){return ha(fa)},useDebugValue:Ca,useDeferredValue:function(e){var t=ha(fa),n=t[0],r=t[1];return Ta((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ha(fa)[0];return[wa().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(fa)[0]},unstable_isNewReconciler:!1},Ma={readContext:so,useCallback:xa,useContext:so,useEffect:Ta,useImperativeHandle:Na,useLayoutEffect:Ia,useMemo:Da,useReducer:da,useRef:wa,useState:function(){return da(fa)},useDebugValue:Ca,useDeferredValue:function(e){var t=da(fa),n=t[0],r=t[1];return Ta((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=da(fa)[0];return[wa().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return da(fa)[0]},unstable_isNewReconciler:!1},Fa=I.ReactCurrentOwner,Ua=!1;function Va(e,t,n,r){t.child=null===e?xo(t,null,n,r):Co(t,e.child,n,r)}function qa(e,t,n,r,i){n=n.render;var o=t.ref;return ao(t,i),r=ua(e,t,n,r,o,i),null===e||Ua?(t.flags|=1,Va(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Qu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,za(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?as(e,t,o):(t.flags|=1,(e=Hu(a,r)).ref=t.ref,e.return=t,t.child=e)}function za(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ua=!1,0==(o&i))return t.lanes=e.lanes,as(e,t,o);0!=(16384&e.flags)&&(Ua=!0)}return Ga(e,t,n,r,o)}function Ba(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Su(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Su(t,e),null;t.memoizedState={baseLanes:0},Su(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Su(t,r);return Va(e,t,i,n),t.child}function Ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ga(e,t,n,r,i){var o=gi(n)?vi:pi.current;return o=mi(t,o),ao(t,i),n=ua(e,t,n,r,o,i),null===e||Ua?(t.flags|=1,Va(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Qa(e,t,n,r,i){if(gi(n)){var o=!0;_i(t)}else o=!1;if(ao(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Eo(t,n,r),So(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=so(c):c=mi(t,c=gi(n)?vi:pi.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),uo=!1;var h=t.memoizedState;a.state=h,yo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||yi.current||uo?("function"==typeof l&&(go(t,n,l,r),u=t.memoizedState),(s=uo||wo(t,n,s,r,h,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,lo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=so(u):u=mi(t,u=gi(n)?vi:pi.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||h!==u)&&_o(t,a,r,u),uo=!1,h=t.memoizedState,a.state=h,yo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||yi.current||uo?("function"==typeof d&&(go(t,n,d,r),p=t.memoizedState),(c=uo||wo(t,n,c,r,h,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Ka(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&Si(t,n,!1),as(e,t,o);r=t.stateNode,Fa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):Va(e,t,s,o),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Ro(e,t.containerInfo)}var $a,Ya,Xa,Ja={dehydrated:null,retryLane:0};function Za(e,t,n){var r,i=t.pendingProps,o=Vo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Vo,1&o),null===e?(void 0!==i.fallback&&Qo(t),e=i.children,o=i.fallback,a?(e=es(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,e):"number"==typeof i.unstable_expectedLoadTime?(e=es(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ns(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ja,i):(n=ts(e,t,i.children,n),t.memoizedState=null,n))}function es(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Yu(t,i,0,null),n=$u(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ts(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ns(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(a,s),null!==e?r=Hu(e,r):(r=$u(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function rs(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),oo(e.return,t)}function is(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function os(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Va(e,t,r.children,n),0!=(2&(r=Vo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,n);else if(19===e.tag)rs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Vo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),is(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===qo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}is(t,!0,n,null,o,t.lastEffect);break;case"together":is(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ss(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function us(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&bi(),null;case 3:return Mo(),fi(yi),fi(pi),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Uo(t);var i=Oo(Lo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ya(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(l(166));return null}if(e=Oo(Ao.current),Wo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Zr]=t,r[ei]=a,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Nr.length;e++)Ar(Nr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ie(r,a),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ar("invalid",r);break;case"textarea":he(r,a),Ar("invalid",r)}for(var s in Ce(n,a),e=null,a)a.hasOwnProperty(s)&&(i=a[s],"children"===s?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):h.hasOwnProperty(s)&&null!=i&&"onScroll"===s&&Ar("scroll",r));switch(n){case"input":ee(r),se(r,a,!0);break;case"textarea":ee(r),pe(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(s=9===i.nodeType?i:i.ownerDocument,e===ye&&(e=me(n)),e===ye?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Zr]=t,e[ei]=r,$a(e,t),t.stateNode=e,s=xe(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),i=r;break;case"iframe":case"object":case"embed":Ar("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Ar(Nr[i],e);i=r;break;case"source":Ar("error",e),i=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),i=r;break;case"details":Ar("toggle",e),i=r;break;case"input":ie(e,r),i=re(e,r),Ar("invalid",e);break;case"option":i=ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":he(e,r),i=fe(e,r),Ar("invalid",e);break;default:i=r}Ce(n,i);var u=i;for(a in u)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ke(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&Ee(e,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&_e(e,c):"number"==typeof c&&_e(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(h.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ar("scroll",e):null!=c&&T(e,a,c,s))}switch(n){case"input":ee(e),se(e,r,!1);break;case"textarea":ee(e),pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+J(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?le(e,!!r.multiple,a,!1):null!=r.defaultValue&&le(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=jr)}Kr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(l(166));n=Oo(Lo.current),Oo(Ao.current),Wo(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return fi(Vo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Vo.current)?0===Vs&&(Vs=3):(0!==Vs&&3!==Vs||(Vs=4),null===Os||0==(134217727&zs)&&0==(134217727&Bs)||bu(Os,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Mo(),null===e&&Lr(t.stateNode.containerInfo),null;case 10:return io(t),null;case 17:return gi(t.type)&&bi(),null;case 19:if(fi(Vo),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(s=r.rendering))if(a)ss(r,!1);else{if(0!==Vs||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(s=qo(e))){for(t.flags|=64,ss(r,!1),null!==(a=s.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Vo,1&Vo.current|2),t.child}e=e.sibling}null!==r.tail&&Ki()>Hs&&(t.flags|=64,a=!0,ss(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=qo(s))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ss(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,a=!0,ss(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ki(),n.sibling=null,t=Vo.current,hi(Vo,a?1&t|2:1&t),n):null;case 23:case 24:return Tu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(l(156,t.tag))}function cs(e){switch(e.tag){case 1:gi(e.type)&&bi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),fi(yi),fi(pi),Xo(),0!=(64&(t=e.flags)))throw Error(l(285));return e.flags=-4097&t|64,e;case 5:return Uo(e),null;case 13:return fi(Vo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return fi(Vo),null;case 4:return Mo(),null;case 10:return io(e),null;case 23:case 24:return Tu(),null;default:return null}}function ls(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$a=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Oo(Ao.current);var a,s=null;switch(n){case"input":i=re(e,i),r=re(e,r),s=[];break;case"option":i=ce(e,i),r=ce(e,r),s=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":i=fe(e,i),r=fe(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=jr)}for(l in Ce(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(h.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(l,c)):"children"===l?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(h.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ar("scroll",e),s||u===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===V?c.toString():(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),fs(0,t)},n}function ps(e,t,n){(n=fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return fs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),fs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ys="function"==typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){ju(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(l(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Uu(n,e),Fu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Kr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(l(163))}function bs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ie("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ws(e,t){if(Ii&&"function"==typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Ti,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Uu(t,n);else{r=t;try{i()}catch(o){ju(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){ju(t,o)}break;case 5:vs(t);break;case 4:ks(e,t)}}function Es(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(l(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(l(161))}16&n.flags&&(_e(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ts(e,n,t):Is(e,n,t)}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(l(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,u=s;;)if(ws(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break e;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ws(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ns(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[ei]=r,"input"===e&&"radio"===r.type&&null!=r.name&&oe(n,r),xe(e,i),t=xe(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?ke(n,s):"dangerouslySetInnerHTML"===a?Ee(n,s):"children"===a?_e(n,s):T(n,a,s,t)}switch(e){case"input":ae(n,r);break;case"textarea":de(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?le(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?le(n,!!r.multiple,r.defaultValue,!0):le(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(l(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Qs=Ki(),bs(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 17:return;case 23:case 24:return void bs(t,null!==t.memoizedState)}throw Error(l(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ys),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ds=Math.ceil,As=I.ReactCurrentDispatcher,Ps=I.ReactCurrentOwner,Ls=0,Os=null,Rs=null,Ms=0,Fs=0,Us=li(0),Vs=0,qs=null,js=0,zs=0,Bs=0,Ks=0,Gs=null,Qs=0,Hs=1/0;function Ws(){Hs=Ki()+500}var $s,Ys=null,Xs=!1,Js=null,Zs=null,eu=!1,tu=null,nu=90,ru=[],iu=[],ou=null,au=0,su=null,uu=-1,cu=0,lu=0,fu=null,hu=!1;function du(){return 0!=(48&Ls)?Ki():-1!==uu?uu:uu=Ki()}function pu(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Gi()?1:2;if(0===cu&&(cu=js),0!==Xi.transition){0!==lu&&(lu=null!==Gs?Gs.pendingLanes:0),e=cu;var t=4186112&~lu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gi(),0!=(4&Ls)&&98===e?e=Kt(12,cu):e=Kt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cu),e}function yu(e,t,n){if(50<au)throw au=0,su=null,Error(l(185));if(null===(e=vu(e,t)))return null;Ht(e,t,n),e===Os&&(Bs|=t,4===Vs&&bu(e,Ms));var r=Gi();1===t?0!=(8&Ls)&&0==(48&Ls)?wu(e):(mu(e,n),0===Ls&&(Ws(),$i())):(0==(4&Ls)||98!==r&&99!==r||(null===ou?ou=new Set([e]):ou.add(e)),mu(e,n)),Gs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Wt(a),u=1<<s,c=o[s];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,jt(u);var f=qt;o[s]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=zt(e,e===Os?Ms:0),t=qt,0===r)null!==n&&(n!==Ui&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&Ci(n)}15===t?(n=wu.bind(null,e),null===qi?(qi=[n],ji=Ni(Li,Yi)):qi.push(n),n=Ui):14===t?n=Wi(99,wu.bind(null,e)):n=Wi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(l(358,e))}}(t),gu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(uu=-1,lu=cu=0,0!=(48&Ls))throw Error(l(327));var t=e.callbackNode;if(Mu()&&e.callbackNode!==t)return null;var n=zt(e,e===Os?Ms:0);if(0===n)return null;var r=n,i=Ls;Ls|=16;var o=Nu();for(Os===e&&Ms===r||(Ws(),Iu(e,r));;)try{Du();break}catch(s){ku(e,s)}if(ro(),As.current=o,Ls=i,null!==Rs?r=0:(Os=null,Ms=0,r=Vs),0!=(js&Bs))Iu(e,0);else if(0!==r){if(2===r&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Bt(e))&&(r=Cu(e,n))),1===r)throw t=qs,Iu(e,0),bu(e,n),mu(e,Ki()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(l(345));case 2:Lu(e);break;case 3:if(bu(e,n),(62914560&n)===n&&10<(r=Qs+500-Ki())){if(0!==zt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){du(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qr(Lu.bind(null,e),r);break}Lu(e);break;case 4:if(bu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Wt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Ki()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ds(n/1960))-n)){e.timeoutHandle=Qr(Lu.bind(null,e),n);break}Lu(e);break;case 5:Lu(e);break;default:throw Error(l(329))}}return mu(e,Ki()),e.callbackNode===t?gu.bind(null,e):null}function bu(e,t){for(t&=~Ks,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function wu(e){if(0!=(48&Ls))throw Error(l(327));if(Mu(),e===Os&&0!=(e.expiredLanes&Ms)){var t=Ms,n=Cu(e,t);0!=(js&Bs)&&(n=Cu(e,t=zt(e,t)))}else n=Cu(e,t=zt(e,0));if(0!==e.tag&&2===n&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Bt(e))&&(n=Cu(e,t))),1===n)throw n=qs,Iu(e,0),bu(e,t),mu(e,Ki()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lu(e),mu(e,Ki()),null}function Eu(e,t){var n=Ls;Ls|=1;try{return e(t)}finally{0===(Ls=n)&&(Ws(),$i())}}function _u(e,t){var n=Ls;Ls&=-2,Ls|=8;try{return e(t)}finally{0===(Ls=n)&&(Ws(),$i())}}function Su(e,t){hi(Us,Fs),Fs|=t,js|=t}function Tu(){Fs=Us.current,fi(Us)}function Iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&bi();break;case 3:Mo(),fi(yi),fi(pi),Xo();break;case 5:Uo(r);break;case 4:Mo();break;case 13:case 19:fi(Vo);break;case 10:io(r);break;case 23:case 24:Tu()}n=n.return}Os=e,Rs=Hu(e.current,null),Ms=Fs=js=t,Vs=0,qs=null,Ks=Bs=zs=0}function ku(e,t){for(;;){var n=Rs;try{if(ro(),Jo.current=La,ia){for(var r=ta.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ia=!1}if(ea=0,ra=na=ta=null,oa=!1,Ps.current=null,null===n||null===n.return){Vs=1,qs=t,Rs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Vo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var y=h.memoizedProps;d=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!f)}}if(d){var v=h.updateQueue;if(null===v){var m=new Set;m.add(c),h.updateQueue=m}else v.add(c);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=fo(-1,1);g.tag=2,ho(s,g)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new hs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=zu.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Vs&&(Vs=2),u=ls(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,po(h,ds(0,o,t));break e;case 1:o=u;var E=h.type,_=h.stateNode;if(0==(64&h.flags)&&("function"==typeof E.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Zs||!Zs.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,po(h,ps(h,o,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(S){t=S,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Nu(){var e=As.current;return As.current=La,null===e?La:e}function Cu(e,t){var n=Ls;Ls|=16;var r=Nu();for(Os===e&&Ms===t||Iu(e,t);;)try{xu();break}catch(gT){ku(e,gT)}if(ro(),Ls=n,As.current=r,null!==Rs)throw Error(l(261));return Os=null,Ms=0,Vs}function xu(){for(;null!==Rs;)Au(Rs)}function Du(){for(;null!==Rs&&!xi();)Au(Rs)}function Au(e){var t=$s(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?Pu(e):Rs=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=us(n,t,Fs)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Fs)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=cs(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Vs&&(Vs=5)}function Lu(e){var t=Gi();return Hi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Mu()}while(null!==tu);if(0!=(48&Ls))throw Error(l(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var u=31-Wt(o),c=1<<u;i[u]=0,a[u]=-1,s[u]=-1,o&=~c}if(null!==ou&&0==(24&r)&&ou.has(e)&&ou.delete(e),e===Os&&(Rs=Os=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ls,Ls|=32,Ps.current=null,zr=Zt,gr(a=mr())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{s.nodeType,u.nodeType}catch(k){s=null;break e}var f=0,h=-1,d=-1,p=0,y=0,v=a,m=null;t:for(;;){for(var g;v!==s||0!==o&&3!==v.nodeType||(h=f+o),v!==u||0!==c&&3!==v.nodeType||(d=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(g=v.firstChild);)m=v,v=g;for(;;){if(v===a)break t;if(m===s&&++p===o&&(h=f),m===u&&++y===c&&(d=f),null!==(g=v.nextSibling))break;m=(v=m).parentNode}v=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:a,selectionRange:s},Zt=!1,fu=null,hu=!1,Ys=r;do{try{Ru()}catch(k){if(null===Ys)throw Error(l(330));ju(Ys,k),Ys=Ys.nextEffect}}while(null!==Ys);fu=null,Ys=r;do{try{for(a=e;null!==Ys;){var b=Ys.flags;if(16&b&&_e(Ys.stateNode,""),128&b){var w=Ys.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&b){case 2:Ss(Ys),Ys.flags&=-3;break;case 6:Ss(Ys),Ys.flags&=-3,Ns(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ns(Ys.alternate,Ys);break;case 4:Ns(Ys.alternate,Ys);break;case 8:ks(a,s=Ys);var _=s.alternate;Es(s),null!==_&&Es(_)}Ys=Ys.nextEffect}}catch(k){if(null===Ys)throw Error(l(330));ju(Ys,k),Ys=Ys.nextEffect}}while(null!==Ys);if(E=Br,w=mr(),b=E.focusedElem,a=E.selectionRange,w!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==a&&gr(b)&&(w=a.start,void 0===(E=a.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),s=b.textContent.length,_=Math.min(a.start,s),a=void 0===a.end?_:Math.min(a.end,s),!E.extend&&_>a&&(s=a,a=_,_=s),s=yr(b,_),o=yr(b,a),s&&o&&(1!==E.rangeCount||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),E.removeAllRanges(),_>a?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Zt=!!zr,Br=zr=null,e.current=n,Ys=r;do{try{for(b=e;null!==Ys;){var S=Ys.flags;if(36&S&&gs(b,Ys.alternate,Ys),128&S){w=void 0;var T=Ys.ref;if(null!==T){var I=Ys.stateNode;switch(Ys.tag){case 5:w=I;break;default:w=I}"function"==typeof T?T(w):T.current=w}}Ys=Ys.nextEffect}}catch(k){if(null===Ys)throw Error(l(330));ju(Ys,k),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Vi(),Ls=i}else e.current=n;if(eu)eu=!1,tu=e,nu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((S=Ys).sibling=null,S.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===su?au++:(au=0,su=e):au=0,n=n.stateNode,Ii&&"function"==typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Ti,n,void 0,64==(64&n.current.flags))}catch(k){}if(mu(e,Ki()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!=(8&Ls)||$i(),null}function Ru(){for(;null!==Ys;){var e=Ys.alternate;hu||null===fu||(0!=(8&Ys.flags)?it(Ys,fu)&&(hu=!0):13===Ys.tag&&xs(e,Ys)&&it(Ys,fu)&&(hu=!0));var t=Ys.flags;0!=(256&t)&&ms(e,Ys),0==(512&t)||eu||(eu=!0,Wi(97,(function(){return Mu(),null}))),Ys=Ys.nextEffect}}function Mu(){if(90!==nu){var e=97<nu?97:nu;return nu=90,Hi(e,Vu)}return!1}function Fu(e,t){ru.push(t,e),eu||(eu=!0,Wi(97,(function(){return Mu(),null})))}function Uu(e,t){iu.push(t,e),eu||(eu=!0,Wi(97,(function(){return Mu(),null})))}function Vu(){if(null===tu)return!1;var e=tu;if(tu=null,0!=(48&Ls))throw Error(l(331));var t=Ls;Ls|=32;var n=iu;iu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(u){if(null===o)throw Error(l(330));ju(o,u)}}for(n=ru,ru=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(u){if(null===o)throw Error(l(330));ju(o,u)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ls=t,$i(),!0}function qu(e,t,n){ho(e,t=ds(0,t=ls(n,t),1)),t=du(),null!==(e=vu(e,1))&&(Ht(e,1,t),mu(e,t))}function ju(e,t){if(3===e.tag)qu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){qu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=ps(n,e=ls(t,e),1);if(ho(n,i),i=du(),null!==(n=vu(n,1)))Ht(n,1,i),mu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ms&n)===n&&(4===Vs||3===Vs&&(62914560&Ms)===Ms&&500>Ki()-Qs?Iu(e,0):Ks|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Gi()?1:2:(0===cu&&(cu=js),0===(t=Gt(62914560&~cu))&&(t=4194304))),n=du(),null!==(e=vu(e,t))&&(Ht(e,t,n),mu(e,n))}function Ku(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gu(e,t,n,r){return new Ku(e,t,n,r)}function Qu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Gu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Qu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case C:return $u(n.children,i,o,t);case q:a=8,i|=16;break;case x:a=8,i|=1;break;case D:return(e=Gu(12,n,t,8|i)).elementType=D,e.type=D,e.lanes=o,e;case O:return(e=Gu(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case R:return(e=Gu(19,n,t,i)).elementType=R,e.lanes=o,e;case j:return Yu(n,i,o,t);case z:return(e=Gu(24,n,t,i)).elementType=z,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case P:a=9;break e;case L:a=11;break e;case M:a=14;break e;case F:a=16,r=null;break e;case U:a=22;break e}throw Error(l(130,null==e?e:typeof e,""))}return(t=Gu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function $u(e,t,n,r){return(e=Gu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Gu(23,e,r,t)).elementType=j,e.lanes=n,e}function Xu(e,t,n){return(e=Gu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Gu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Qt(0),this.expirationTimes=Qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.mutableSourceEagerHydrationData=null}function ec(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function tc(e,t,n,r){var i=t.current,o=du(),a=pu(i);e:if(n){t:{if(et(n=n._reactInternals)!==n||1!==n.tag)throw Error(l(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(gi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(l(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=Ei(n,u,s);break e}}n=s}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),yu(i,a,o),a}function nc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ic(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function oc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zu(e,t,null!=n&&!0===n.hydrate),t=Gu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,co(t),e[ti]=n.current,Lr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=nc(a);s.call(e)}}tc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new oc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=nc(a);u.call(e)}}_u((function(){tc(t,a,e,i)}))}return nc(a)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(l(200));return ec(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||yi.current)Ua=!0;else{if(0==(n&r)){switch(Ua=!1,t.tag){case 3:Wa(t),$o();break;case 5:Fo(t);break;case 1:gi(t.type)&&_i(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Za(e,t,n):(hi(Vo,1&Vo.current),null!==(t=as(e,t,n))?t.sibling:null);hi(Vo,1&Vo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return os(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Vo,Vo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ba(e,t,n)}return as(e,t,n)}Ua=0!=(16384&e.flags)}else Ua=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,pi.current),ao(t,n),i=ua(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,co(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&go(t,r,a,e),i.updater=bo,t.stateNode=i,i._reactInternals=t,So(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Va(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Qu(e)?1:0;if(null!=e){if((e=e.$$typeof)===L)return 11;if(e===M)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Ga(null,t,i,e,n);break e;case 1:t=Qa(null,t,i,e,n);break e;case 11:t=qa(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Ji(i.type,e),r,n);break e}throw Error(l(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Qa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Wa(t),r=t.updateQueue,null===e||null===r)throw Error(l(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),yo(t,r,null,n),(r=t.memoizedState.element)===i)$o(),t=as(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(zo=$r(t.stateNode.containerInfo.firstChild),jo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Yo.push(o);for(n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Va(e,t,r,n),$o();t=t.child}return t;case 5:return Fo(t),null===e&&Qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Gr(r,i)?a=null:null!==o&&Gr(r,o)&&(t.flags|=16),Ka(e,t),Va(e,t,a,n),t.child;case 6:return null===e&&Qo(t),null;case 13:return Za(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Va(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Va(e,t,t.pendingProps,n),t.child;case 8:case 12:return Va(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(hi(Zi,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=fr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!yi.current){t=as(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=fo(-1,n&-n)).tag=2,ho(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),oo(s.return,n),u.lanes|=n;break}c=c.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Va(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,ao(t,n),r=r(i=so(i,o.unstable_observedBits)),t.flags|=1,Va(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),ja(e,t,i,o=Ji(i.type,o),r,n);case 15:return za(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,_i(t)):e=!1,ao(t,n),Eo(t,r,i),So(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return os(e,t,n);case 23:case 24:return Ba(e,t,n)}throw Error(l(156,t.tag))},oc.prototype.render=function(e){tc(e,this._internalRoot,null,null)},oc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;tc(null,e,null,(function(){t[ti]=null}))},ot=function(e){13===e.tag&&(yu(e,4,du()),ic(e,4))},at=function(e){13===e.tag&&(yu(e,67108864,du()),ic(e,67108864))},st=function(e){if(13===e.tag){var t=du(),n=pu(e);yu(e,n,t),ic(e,n)}},ut=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ae(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(l(90));te(r),ae(r,i)}}}break;case"textarea":de(e,n);break;case"select":null!=(t=n.value)&&le(e,!!n.multiple,t,!1)}},Fe=Eu,Ue=function(e,t,n,r,i){var o=Ls;Ls|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ls=o)&&(Ws(),$i())}},Ve=function(){0==(49&Ls)&&(function(){if(null!==ou){var e=ou;ou=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Ki())}))}$i()}(),Mu())},qe=function(e,t){var n=Ls;Ls|=2;try{return e(t)}finally{0===(Ls=n)&&(Ws(),$i())}};var cc={Events:[ii,oi,ai,Re,Me,Mu,{current:!1}]},lc={findFiberByHostInstance:ri,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},fc={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Ti=hc.inject(fc),Ii=hc}catch(we){}}var dc={__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:cc,createPortal:uc,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(l(188));throw Error(l(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},flushSync:function(e,t){var n=Ls;if(0!=(48&n))return e(t);Ls|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ls=n,$i()}},hydrate:function(e,t,n){if(!ac(t))throw Error(l(200));return sc(null,e,t,!0,n)},render:function(e,t,n){if(!ac(t))throw Error(l(200));return sc(null,e,t,!1,n)},unmountComponentAtNode:function(e){if(!ac(e))throw Error(l(40));return!!e._reactRootContainer&&(_u((function(){sc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ti]=null}))})),!0)},unstable_batchedUpdates:Eu,unstable_createPortal:function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!ac(n))throw Error(l(200));if(null==e||void 0===e._reactInternals)throw Error(l(38));return sc(e,t,n,!1,r)},version:"17.0.2"},pc=e((function(e){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=dc})),yc=function(e,t){return(yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function vc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}yc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var mc=function(){return(mc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function gc(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(gT){o(gT)}}function s(e){try{u(r.throw(e))}catch(gT){o(gT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function bc(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(gT){o=[6,gT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function wc(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ec(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_c(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Sc=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ic(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(gT){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kc=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Nc.prototype.create),o}return vc(t,e),t}(Error),Nc=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?Cc(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new kc(i,s,r);return u},e}();function Cc(e,t){return e.replace(xc,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var xc=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ac(e,t){var n=new Pc(e,t);return n.subscribe.bind(n)}var Pc=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Lc),void 0===r.error&&(r.error=Lc),void 0===r.complete&&(r.complete=Lc);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(gT){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(gT){"undefined"!=typeof console&&console.error&&console.error(gT)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Lc(){}var Oc=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),Rc=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Sc;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(gT){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=mc({identifier:"[DEFAULT]",optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(gT){if(r)return null;throw gT}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(gT){}try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=wc(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(gT){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return gc(this,void 0,void 0,(function(){var e;return bc(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ec(Ec([],wc(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),wc(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){void 0===e&&(e={});var t=e.instanceIdentifier,n=void 0===t?"[DEFAULT]":t,r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:i})},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o)),o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mc,Fc=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Rc(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Uc(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vc,qc,jc=[];(qc=Vc||(Vc={}))[qc.DEBUG=0]="DEBUG",qc[qc.VERBOSE=1]="VERBOSE",qc[qc.INFO=2]="INFO",qc[qc.WARN=3]="WARN",qc[qc.ERROR=4]="ERROR",qc[qc.SILENT=5]="SILENT";var zc,Bc={debug:Vc.DEBUG,verbose:Vc.VERBOSE,info:Vc.INFO,warn:Vc.WARN,error:Vc.ERROR,silent:Vc.SILENT},Kc=Vc.INFO,Gc=((Mc={})[Vc.DEBUG]="log",Mc[Vc.VERBOSE]="log",Mc[Vc.INFO]="info",Mc[Vc.WARN]="warn",Mc[Vc.ERROR]="error",Mc),Qc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Gc[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Uc(["["+i+"]  "+e.name+":"],n))}},Hc=function(){function e(e){this.name=e,this._logLevel=Kc,this._logHandler=Qc,this._userLogHandler=null,jc.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Vc))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Bc[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Uc([this,Vc.DEBUG],e)),this._logHandler.apply(this,Uc([this,Vc.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Uc([this,Vc.VERBOSE],e)),this._logHandler.apply(this,Uc([this,Vc.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Uc([this,Vc.INFO],e)),this._logHandler.apply(this,Uc([this,Vc.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Uc([this,Vc.WARN],e)),this._logHandler.apply(this,Uc([this,Vc.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Uc([this,Vc.ERROR],e)),this._logHandler.apply(this,Uc([this,Vc.ERROR],e))},e}();function Wc(e){jc.forEach((function(t){t.setLogLevel(e)}))}var $c,Yc=((zc={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",zc["bad-app-name"]="Illegal App name: '{$appName}",zc["duplicate-app"]="Firebase App named '{$appName}' already exists",zc["app-deleted"]="Firebase App named '{$appName}' already deleted",zc["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",zc["invalid-log-argument"]="First argument to `onLog` must be null or a function.",zc),Xc=new Nc("app","Firebase",Yc),Jc=(($c={})["@firebase/app"]="fire-core",$c["@firebase/analytics"]="fire-analytics",$c["@firebase/auth"]="fire-auth",$c["@firebase/database"]="fire-rtdb",$c["@firebase/functions"]="fire-fn",$c["@firebase/installations"]="fire-iid",$c["@firebase/messaging"]="fire-fcm",$c["@firebase/performance"]="fire-perf",$c["@firebase/remote-config"]="fire-rc",$c["@firebase/storage"]="fire-gcs",$c["@firebase/firestore"]="fire-fst",$c["fire-js"]="fire-js",$c["firebase-wrapper"]="fire-js-all",$c),Zc=new Hc("@firebase/app"),el=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=_c(void 0,e),this.container=new Fc(t.name),this._addComponent(new Oc("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(gT){Zc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,gT)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Xc.create("app-deleted",{appName:this.name_})},e}();el.prototype.name&&el.prototype.options||el.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tl(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw Xc.create("bad-app-name",{appName:String(a)});if(Dc(t,a))throw Xc.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Jc[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Zc.warn(u.join(" "))}o(new Oc(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Wc,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Xc.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Bc[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Vc[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=jc;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!Dc(t,e=e||"[DEFAULT]"))throw Xc.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Zc.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw Xc.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&_c(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nl=function e(){var t=tl(el);return t.INTERNAL=mc(mc({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){_c(t,e)},createSubscribe:Ac,ErrorFactory:Nc,deepExtend:_c}),t}(),rl=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Zc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var il=self.firebase.SDK_VERSION;il&&il.indexOf("LITE")>=0&&Zc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ol=nl.initializeApp;nl.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ic()&&Zc.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ol.apply(void 0,e)};var al,sl,ul=nl;(al=ul).INTERNAL.registerComponent(new Oc("platform-logger",(function(e){return new rl(e)}),"PRIVATE")),al.registerVersion("@firebase/app","0.6.17",sl),al.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ul.registerVersion("firebase","8.3.1","app");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var cl=function(e,t){return(cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ll(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var fl,hl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},dl=dl||{},pl=hl||self;function yl(){}function vl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ml(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var gl="closure_uid_"+(1e9*Math.random()>>>0),bl=0;function wl(e,t,n){return e.call.apply(e.bind,arguments)}function El(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _l(e,t,n){return(_l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wl:El).apply(null,arguments)}function Sl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Tl(){return Date.now()}function Il(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function kl(){this.j=this.j,this.i=this.i}kl.prototype.j=!1,kl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,gl)&&e[gl]||(e[gl]=++bl)}(this)},kl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Nl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Cl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function xl(e){return Array.prototype.concat.apply([],arguments)}function Dl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Al(e){return/^[\s\xa0]*$/.test(e)}var Pl,Ll=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ol(e,t){return-1!=e.indexOf(t)}function Rl(e,t){return e<t?-1:e>t?1:0}e:{var Ml=pl.navigator;if(Ml){var Fl=Ml.userAgent;if(Fl){Pl=Fl;break e}}Pl=""}function Ul(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Vl(e){var t={};for(var n in e)t[n]=e[n];return t}var ql="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jl(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ql.length;o++)n=ql[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zl(e){return zl[" "](e),e}zl[" "]=yl;var Bl,Kl=Ol(Pl,"Opera"),Gl=Ol(Pl,"Trident")||Ol(Pl,"MSIE"),Ql=Ol(Pl,"Edge"),Hl=Ql||Gl,Wl=Ol(Pl,"Gecko")&&!(Ol(Pl.toLowerCase(),"webkit")&&!Ol(Pl,"Edge"))&&!(Ol(Pl,"Trident")||Ol(Pl,"MSIE"))&&!Ol(Pl,"Edge"),$l=Ol(Pl.toLowerCase(),"webkit")&&!Ol(Pl,"Edge");function Yl(){var e=pl.document;return e?e.documentMode:void 0}e:{var Xl="",Jl=function(){var e=Pl;return Wl?/rv:([^\);]+)(\)|;)/.exec(e):Ql?/Edge\/([\d\.]+)/.exec(e):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$l?/WebKit\/(\S+)/.exec(e):Kl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jl&&(Xl=Jl?Jl[1]:""),Gl){var Zl=Yl();if(null!=Zl&&Zl>parseFloat(Xl)){Bl=String(Zl);break e}}Bl=Xl}var ef,tf={};function nf(e){return function(e,t){var n=tf;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=Ll(String(Bl)).split("."),r=Ll(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Rl(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Rl(0==a[2].length,0==s[2].length)||Rl(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(pl.document&&Gl){var rf=Yl();ef=rf||(parseInt(Bl,10)||void 0)}else ef=void 0;var of=ef,af=!Gl||9<=Number(of),sf=Gl&&!nf("9"),uf=function(){if(!pl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pl.addEventListener("test",yl,t),pl.removeEventListener("test",yl,t)}catch(n){}return e}();function cf(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function lf(e,t){if(cf.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Wl){e:{try{zl(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ff[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}cf.prototype.b=function(){this.defaultPrevented=!0},Il(lf,cf);var ff={2:"touch",3:"pen",4:"mouse"};lf.prototype.b=function(){lf.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,sf)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var hf="closure_listenable_"+(1e6*Math.random()|0),df=0;function pf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++df,this.Y=this.Z=!1}function yf(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function vf(e){this.src=e,this.a={},this.b=0}function mf(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=Nl(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(yf(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function gf(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}vf.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=gf(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new pf(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var bf="closure_lm_"+(1e6*Math.random()|0),wf={};function Ef(e,t,n,r,i){if(r&&r.once)return Sf(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ef(e,t[o],n,r,i);return null}return n=Af(n),e&&e[hf]?e.va(t,n,ml(r)?!!r.capture:!!r,i):_f(e,t,n,!1,r,i)}function _f(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ml(i)?!!i.capture:!!i;if(a&&!af)return null;var s=xf(e);if(s||(e[bf]=s=new vf(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Cf,t=af?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)uf||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(kf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Sf(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Sf(e,t[o],n,r,i);return null}return n=Af(n),e&&e[hf]?e.wa(t,n,ml(r)?!!r.capture:!!r,i):_f(e,t,n,!0,r,i)}function Tf(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Tf(e,t[o],n,r,i);else r=ml(r)?!!r.capture:!!r,n=Af(n),e&&e[hf]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=gf(o=e.a[t],n,r,i))&&(yf(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=xf(e))&&(t=e.a[t.toString()],e=-1,t&&(e=gf(t,n,r,i)),(n=-1<e?t[e]:null)&&If(n))}function If(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[hf])mf(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(kf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xf(t))?(mf(n,e),0==n.b&&(n.src=null,t[bf]=null)):yf(e)}}}function kf(e){return e in wf?wf[e]:wf[e]="on"+e}function Nf(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&If(e),n.call(r,t)}function Cf(e,t){if(e.Y)return!0;if(!af){if(!t)e:{t=["window","event"];for(var n=pl,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Nf(e,t=new lf(t,this))}return Nf(e,new lf(t,this))}function xf(e){return(e=e[bf])instanceof vf?e:null}var Df="__closure_events_fn_"+(1e9*Math.random()>>>0);function Af(e){return"function"==typeof e?e:(e[Df]||(e[Df]=function(t){return e.handleEvent(t)}),e[Df])}function Pf(){kl.call(this),this.c=new vf(this),this.J=this,this.C=null}function Lf(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new cf(t,e);else if(t instanceof cf)t.target=t.target||e;else{var i=t;jl(t=new cf(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Of(a,r,!0,t)&&i}if(i=Of(a=t.a=e,r,!0,t)&&i,i=Of(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Of(a=t.a=n[o],r,!1,t)&&i}function Of(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&mf(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Il(Pf,kl),Pf.prototype[hf]=!0,(fl=Pf.prototype).addEventListener=function(e,t,n,r){Ef(this,e,t,n,r)},fl.removeEventListener=function(e,t,n,r){Tf(this,e,t,n,r)},fl.G=function(){if(Pf.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)yf(n[r]);delete t.a[e],t.b--}}this.C=null},fl.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},fl.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Rf=pl.JSON.stringify;function Mf(){this.b=this.a=null}var Ff,Uf=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new qf}),(function(e){e.reset()}));function Vf(){var e=Kf,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function qf(){this.next=this.b=this.a=null}function jf(e){pl.setTimeout((function(){throw e}),0)}function zf(e,t){Ff||function(){var e=pl.Promise.resolve(void 0);Ff=function(){e.then(Gf)}}(),Bf||(Ff(),Bf=!0),Kf.add(e,t)}Mf.prototype.add=function(e,t){var n=Uf.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},qf.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},qf.prototype.reset=function(){this.next=this.b=this.a=null};var Bf=!1,Kf=new Mf;function Gf(){for(var e;e=Vf();){try{e.a.call(e.b)}catch(n){jf(n)}var t=Uf;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Bf=!1}function Qf(e,t){Pf.call(this),this.b=e||1,this.a=t||pl,this.f=_l(this.Za,this),this.g=Tl()}function Hf(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Wf(e,t,n){if("function"==typeof e)n&&(e=_l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_l(e.handleEvent,e)}return 2147483647<Number(t)?-1:pl.setTimeout(e,t||0)}function $f(e){e.a=Wf((function(){e.a=null,e.c&&(e.c=!1,$f(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}Il(Qf,Pf),(fl=Qf.prototype).aa=!1,fl.M=null,fl.Za=function(){if(this.aa){var e=Tl()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Lf(this,"tick"),this.aa&&(Hf(this),this.start()))}},fl.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Tl())},fl.G=function(){Qf.X.G.call(this),Hf(this),delete this.a};var Yf=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}cl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:$f(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(pl.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(kl);function Xf(e){kl.call(this),this.b=e,this.a={}}Il(Xf,kl);var Jf=[];function Zf(e,t,n,r){Array.isArray(n)||(n&&(Jf[0]=n.toString()),n=Jf);for(var i=0;i<n.length;i++){var o=Ef(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function eh(e){Ul(e.a,(function(e,t){this.a.hasOwnProperty(t)&&If(e)}),e),e.a={}}function th(){this.a=!0}function nh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Rf(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Xf.prototype.G=function(){Xf.X.G.call(this),eh(this)},Xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},th.prototype.info=function(){};var rh={},ih=null;function oh(){return ih=ih||new Pf}function ah(e){cf.call(this,rh.Fa,e)}function sh(e){var t=oh();Lf(t,new ah(t,e))}function uh(e,t){cf.call(this,rh.STAT_EVENT,e),this.stat=t}function ch(e){var t=oh();Lf(t,new uh(t,e))}function lh(e){cf.call(this,rh.Ga,e)}function fh(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return pl.setTimeout((function(){e()}),t)}rh.Fa="serverreachability",Il(ah,cf),rh.STAT_EVENT="statevent",Il(uh,cf),rh.Ga="timingevent",Il(lh,cf);var hh={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},dh={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ph(){}function yh(e){var t;return(t=e.a)||(t=e.a={}),t}function vh(){}ph.prototype.a=null;var mh,gh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function bh(){cf.call(this,"d")}function wh(){cf.call(this,"c")}function Eh(){}function _h(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Xf(this),this.P=Sh,e=Hl?125:void 0,this.R=new Qf(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Il(bh,cf),Il(wh,cf),Il(Eh,ph),mh=new Eh;var Sh=45e3,Th={},Ih={};function kh(e,t,n){e.H=1,e.i=Wh(zh(t)),e.j=n,e.I=!0,Nh(e,null)}function Nh(e,t){e.u=Tl(),Dh(e),e.l=zh(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),sd(n.b,"t",r),e.D=0,e.a=tp(e.g,e.g.C?t:null),0<e.O&&(e.F=new Yf(_l(e.Ca,e,e.a),e.O)),Zf(e.J,e.a,"readystatechange",e.Xa),t=e.B?Vl(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),sh(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function Ch(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=xh(e,n);if(i==Ih){4==t&&(e.h=4,ch(14),r=!1),nh(e.c,e.f,null,"[Incomplete Response]");break}if(i==Th){e.h=4,ch(15),nh(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}nh(e.c,e.f,i,null),Rh(e,i)}4==t&&0==n.length&&(e.h=1,ch(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hd(t),t.F=!0,ch(11))):(nh(e.c,e.f,n,"[Invalid Chunked Response]"),Oh(e),Lh(e))}function xh(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?Ih:(n=Number(t.substring(n,r)),isNaN(n)?Th:(r+=1)+n>t.length?Ih:(t=t.substr(r,n),e.D=r+n,t))}function Dh(e){e.T=Tl()+e.P,Ah(e,e.P)}function Ah(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=fh(_l(e.Va,e),t)}function Ph(e){e.o&&(pl.clearTimeout(e.o),e.o=null)}function Lh(e){0==e.g.v||e.A||Yd(e.g,e)}function Oh(e){Ph(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Hf(e.R),eh(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Rh(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||pd(n.b,e)))if(n.I=e.N,!e.C&&pd(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;$d(n),Ud(n)}Qd(n),ch(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=fh(_l(n.Sa,n),6e3));if(1>=dd(n.b)&&n.ea){try{n.ea()}catch(v){}n.ea=void 0}}else Jd(n,11)}else if((e.C||n.a==e)&&$d(n),!Al(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(Ol(l,"spdy")||Ol(l,"quic")||Ol(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(yd(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Hh(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Tl()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=ep(u,u.C?u.ga:null,u.fa),d.C){vd(u.b,d);var p=d,y=u.D;y&&p.setTimeout(y),p.o&&(Ph(p),Dh(p)),u.a=d}else Gd(u);0<n.g.length&&jd(n)}else"stop"!=i[0]&&"close"!=i[0]||Jd(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Jd(n,7):Fd(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);sh(4)}catch(v){}}function Mh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vl(e)||"string"==typeof e)Cl(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(vl(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(vl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Fh(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Fh)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Uh(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Vh(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Vh(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Vh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(fl=_h.prototype).setTimeout=function(e){this.P=e},fl.Xa=function(e){e=e.target;var t=this.F;t&&3==Ld(e)?t.f():this.Ca(e)},fl.Ca=function(e){try{if(e==this.a)e:{var t=Ld(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!Hl&&!this.a.$())){this.A||4!=t||7==n||sh(8==n||0>=r?3:2),Ph(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Al(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,ch(12),Oh(this),Lh(this);break e}nh(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Rh(this,u)}this.I?(Ch(this,t,o),Hl&&this.b&&3==t&&(Zf(this.J,this.R,"tick",this.Wa),this.R.start())):(nh(this.c,this.f,o,null),Rh(this,o)),4==t&&Oh(this),this.b&&!this.A&&(4==t?Yd(this.g,this):(this.b=!1,Dh(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ch(12)):(this.h=0,ch(13)),Oh(this),Lh(this)}}}catch(c){}},fl.Wa=function(){if(this.a){var e=Ld(this.a),t=this.a.$();this.D<t.length&&(Ph(this),Ch(this,e,t),this.b&&4!=e&&Dh(this))}},fl.cancel=function(){this.A=!0,Oh(this)},fl.Va=function(){this.o=null;var e=Tl();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(sh(3),ch(17)),Oh(this),this.h=2,Lh(this)):Ah(this,this.T-e)},(fl=Fh.prototype).K=function(){Uh(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},fl.L=function(){return Uh(this),this.a.concat()},fl.get=function(e,t){return Vh(this.b,e)?this.b[e]:t},fl.set=function(e,t){Vh(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},fl.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var qh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jh(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof jh){this.a=void 0!==t?t:e.a,Bh(this,e.f),this.j=e.j,Kh(this,e.c),Gh(this,e.h),this.g=e.g,t=e.b;var n=new rd;n.c=t.c,t.a&&(n.a=new Fh(t.a),n.b=t.b),Qh(this,n),this.i=e.i}else e&&(n=String(e).match(qh))?(this.a=!!t,Bh(this,n[1]||"",!0),this.j=$h(n[2]||""),Kh(this,n[3]||"",!0),Gh(this,n[4]),this.g=$h(n[5]||"",!0),Qh(this,n[6]||"",!0),this.i=$h(n[7]||"")):(this.a=!!t,this.b=new rd(null,this.a))}function zh(e){return new jh(e)}function Bh(e,t,n){e.f=n?$h(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Kh(e,t,n){e.c=n?$h(t,!0):t}function Gh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Qh(e,t,n){t instanceof rd?(e.b=t,function(e,t){t&&!e.f&&(id(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(od(this,t),sd(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Yh(t,td)),e.b=new rd(t,e.a))}function Hh(e,t,n){e.b.set(t,n)}function Wh(e){return Hh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Tl()).toString(36)),e}function $h(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yh(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Xh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Xh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jh.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Yh(t,Jh,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Yh(t,Jh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yh(n,"/"==n.charAt(0)?ed:Zh,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Yh(n,nd)),e.join("")};var Jh=/[#\/\?@]/g,Zh=/[#\?:]/g,ed=/[#\?]/g,td=/[#\?@]/g,nd=/#/g;function rd(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function id(e){e.a||(e.a=new Fh,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function od(e,t){id(e),t=ud(e,t),Vh(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Vh((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Uh(e)))}function ad(e,t){return id(e),t=ud(e,t),Vh(e.a.b,t)}function sd(e,t,n){od(e,t),0<n.length&&(e.c=null,e.a.set(ud(e,t),Dl(n)),e.b+=n.length)}function ud(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(fl=rd.prototype).add=function(e,t){id(this),this.c=null,e=ud(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},fl.forEach=function(e,t){id(this),this.a.forEach((function(n,r){Cl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},fl.L=function(){id(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},fl.K=function(e){id(this);var t=[];if("string"==typeof e)ad(this,e)&&(t=xl(t,this.a.get(ud(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=xl(t,e[n])}return t},fl.set=function(e,t){return id(this),this.c=null,ad(this,e=ud(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},fl.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},fl.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var cd=function(e,t){this.b=e,this.a=t};function ld(e){this.g=e||fd,pl.PerformanceNavigationTiming?e=0<(e=pl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(pl.ia&&pl.ia.ya&&pl.ia.ya()&&pl.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var fd=10;function hd(e){return!!e.b||!!e.a&&e.a.size>=e.f}function dd(e){return e.b?1:e.a?e.a.size:0}function pd(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function yd(e,t){e.a?e.a.add(t):e.b=t}function vd(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function md(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=ll(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Dl(e.c)}function gd(){}function bd(){this.a=new gd}function wd(e,t,n){var r=n||"";try{Mh(e,(function(e,n){var i=e;ml(e)&&(i=Rf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(gT){throw t.push(r+"type="+encodeURIComponent("_badmap")),gT}}function Ed(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}ld.prototype.cancel=function(){var e,t;if(this.c=md(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ll(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},gd.prototype.stringify=function(e){return pl.JSON.stringify(e,void 0)},gd.prototype.parse=function(e){return pl.JSON.parse(e,void 0)};var _d=pl.JSON.parse;function Sd(e){Pf.call(this),this.headers=new Fh,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Td,this.D=this.F=!1}Il(Sd,Pf);var Td="",Id=/^https?$/i,kd=["POST","PUT"];function Nd(e){return"content-type"==e.toLowerCase()}function Cd(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,xd(e),Ad(e)}function xd(e){e.u||(e.u=!0,Lf(e,"complete"),Lf(e,"error"))}function Dd(e){if(e.b&&void 0!==dl&&(!e.s[1]||4!=Ld(e)||2!=e.W()))if(e.l&&4==Ld(e))Wf(e.za,0,e);else if(Lf(e,"readystatechange"),4==Ld(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(qh)[1]||null;if(!o&&pl.self&&pl.self.location){var a=pl.self.location.protocol;o=a.substr(0,a.length-1)}i=!Id.test(o?o.toLowerCase():"")}t=i}if(t)Lf(e,"complete"),Lf(e,"success");else{e.h=6;try{var s=2<Ld(e)?e.a.statusText:""}catch(u){s=""}e.f=s+" ["+e.W()+"]",xd(e)}}finally{Ad(e)}}}function Ad(e,t){if(e.a){Pd(e);var n=e.a,r=e.s[0]?yl:null;e.a=null,e.s=null,t||Lf(e,"ready");try{n.onreadystatechange=r}catch(gT){}}}function Pd(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(pl.clearTimeout(e.m),e.m=null)}function Ld(e){return e.a?e.a.readyState:0}function Od(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ul(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Hh(e,t,n))}function Rd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Md(e){this.pa=0,this.g=[],this.c=new th,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Rd("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Rd("baseRetryDelayMs",5e3,e),this.Ra=Rd("retryDelaySeedMs",1e4,e),this.Ma=Rd("forwardChannelMaxRetries",2,e),this.ma=Rd("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new ld(e&&e.concurrentRequestLimit),this.ka=new bd,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Fd(e){if(Vd(e),3==e.v){var t=e.R++,n=zh(e.B);Hh(n,"SID",e.J),Hh(n,"RID",t),Hh(n,"TYPE","terminate"),Bd(e,n),(t=new _h(e,e.c,t,void 0)).H=2,t.i=Wh(zh(n)),n=!1,pl.navigator&&pl.navigator.sendBeacon&&(n=pl.navigator.sendBeacon(t.i.toString(),"")),!n&&pl.Image&&((new Image).src=t.i,n=!0),n||(t.a=tp(t.g,null),t.a.ba(t.i)),t.u=Tl(),Dh(t)}Zd(e)}function Ud(e){e.a&&(Hd(e),e.a.cancel(),e.a=null)}function Vd(e){Ud(e),e.j&&(pl.clearTimeout(e.j),e.j=null),$d(e),e.b.cancel(),e.h&&("number"==typeof e.h&&pl.clearTimeout(e.h),e.h=null)}function qd(e,t){e.g.push(new cd(e.Oa++,t)),3==e.v&&jd(e)}function jd(e){hd(e.b)||e.h||(e.h=!0,zf(e.Ba,e),e.u=0)}function zd(e,t){var n;n=t?t.f:e.R++;var r=zh(e.B);Hh(r,"SID",e.J),Hh(r,"RID",n),Hh(r,"AID",e.P),Bd(e,r),e.i&&e.l&&Od(r,e.i,e.l),n=new _h(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Kd(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),yd(e.b,n),kh(n,r,t)}function Bd(e,t){e.f&&Mh({},(function(e,n){Hh(t,n,e)}))}function Kd(e,t,n){n=Math.min(e.g.length,n);var r=e.f?_l(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{wd(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Gd(e){e.a||e.j||(e.T=1,zf(e.Aa,e),e.o=0)}function Qd(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=fh(_l(e.Aa,e),Xd(e,e.o)),e.o++,!0)}function Hd(e){null!=e.s&&(pl.clearTimeout(e.s),e.s=null)}function Wd(e){e.a=new _h(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=zh(e.la);Hh(t,"RID","rpc"),Hh(t,"SID",e.J),Hh(t,"CI",e.H?"0":"1"),Hh(t,"AID",e.P),Bd(e,t),Hh(t,"TYPE","xmlhttp"),e.i&&e.l&&Od(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Wh(zh(t)),n.j=null,n.I=!0,Nh(n,e)}function $d(e){null!=e.m&&(pl.clearTimeout(e.m),e.m=null)}function Yd(e,t){var n=null;if(e.a==t){$d(e),Hd(e),e.a=null;var r=2}else{if(!pd(e.b,t))return;n=t.s,vd(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=Tl()-t.u;var i=e.u;Lf(r=oh(),new lh(r,n,t,i)),jd(e)}else Gd(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(dd(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=fh(_l(e.Ba,e,t),Xd(e,e.u)),e.u++,0)))}(e,t)||2==r&&Qd(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Jd(e,5);break;case 4:Jd(e,10);break;case 3:Jd(e,6);break;default:Jd(e,2)}}function Xd(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Jd(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=_l(e.Ya,e);n||(n=new jh("//www.google.com/images/cleardot.gif"),pl.location&&"http"==pl.location.protocol||Bh(n,"https"),Wh(n)),function(e,t){var n=new th;if(pl.Image){var r=new Image;r.onload=Sl(Ed,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Sl(Ed,n,r,"TestLoadImage: error",!1,t),r.onabort=Sl(Ed,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Sl(Ed,n,r,"TestLoadImage: timeout",!1,t),pl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ch(2);e.v=0,e.f&&e.f.ra(t),Zd(e),Vd(e)}function Zd(e){e.v=0,e.I=-1,e.f&&(0==md(e.b).length&&0==e.g.length||(e.b.c.length=0,Dl(e.g),e.g.length=0),e.f.qa())}function ep(e,t,n){var r=function(e){return e instanceof jh?zh(e):new jh(e,void 0)}(n);if(""!=r.c)t&&Kh(r,t+"."+r.c),Gh(r,r.h);else{var i=pl.location;r=function(e,t,n,r){var i=new jh(null,void 0);return e&&Bh(i,e),t&&Kh(i,t),n&&Gh(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Ul(e.V,(function(e,t){Hh(r,t,e)})),t=e.A,n=e.na,t&&n&&Hh(r,t,n),Hh(r,"VER",e.ha),Bd(e,r),r}function tp(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sd(e.Na)).F=e.C,t}function np(){}function rp(){if(Gl&&!(10<=Number(of)))throw Error("Environmental error: no available transport.")}function ip(e,t){Pf.call(this),this.a=new Md(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Al(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Al(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new sp(this)}function op(e){bh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function ap(){wh.call(this),this.status=1}function sp(e){this.a=e}(fl=Sd.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?yh(this.H):yh(mh),this.a.onreadystatechange=_l(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void Cd(this,o)}e=n||"";var i=new Fh(this.headers);r&&Mh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Nd,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=pl.FormData&&e instanceof pl.FormData,!(0<=Nl(kd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pd(this),0<this.o&&((this.D=function(e){return Gl&&nf(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_l(this.xa,this)):this.m=Wf(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Cd(this,o)}},fl.xa=function(){void 0!==dl&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Lf(this,"timeout"),this.abort(8))},fl.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Lf(this,"complete"),Lf(this,"abort"),Ad(this))},fl.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ad(this,!0)),Sd.X.G.call(this)},fl.za=function(){this.j||(this.A||this.l||this.g?Dd(this):this.Ua())},fl.Ua=function(){Dd(this)},fl.W=function(){try{return 2<Ld(this)?this.a.status:-1}catch(we){return-1}},fl.$=function(){try{return this.a?this.a.responseText:""}catch(we){return""}},fl.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_d(t)}},fl.ua=function(){return this.h},fl.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(fl=Md.prototype).ha=8,fl.v=1,fl.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new _h(this,this.c,e,void 0),r=this.l;if(this.O&&(r?jl(r=Vl(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Kd(this,n,t),Hh(i=zh(this.B),"RID",e),Hh(i,"CVER",22),this.A&&Hh(i,"X-HTTP-Session-Id",this.A),Bd(this,i),this.i&&r&&Od(i,this.i,r),yd(this.b,n),this.Ia&&Hh(i,"TYPE","init"),this.da?(Hh(i,"$req",t),Hh(i,"SID","null"),n.U=!0,kh(n,i,null)):kh(n,i,t),this.v=2}}else 3==this.v&&(e?zd(this,e):0==this.g.length||hd(this.b)||zd(this))},fl.Aa=function(){if(this.j=null,Wd(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=fh(_l(this.Ta,this),e)}},fl.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ch(10),Ud(this),Wd(this))},fl.Sa=function(){null!=this.m&&(this.m=null,Ud(this),Qd(this),ch(19))},fl.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),ch(2)):(this.c.info("Failed to ping google.com"),ch(1))},(fl=np.prototype).ta=function(){},fl.sa=function(){},fl.ra=function(){},fl.qa=function(){},fl.Ja=function(){},rp.prototype.a=function(e,t){return new ip(e,t)},Il(ip,Pf),ip.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;ch(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=ep(e,null,e.fa),jd(e)},ip.prototype.close=function(){Fd(this.a)},ip.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,qd(this.a,t)}else this.l?((t={}).__data__=Rf(e),qd(this.a,t)):qd(this.a,e)},ip.prototype.G=function(){this.a.f=null,delete this.f,Fd(this.a),delete this.a,ip.X.G.call(this)},Il(op,bh),Il(ap,wh),Il(sp,np),sp.prototype.ta=function(){Lf(this.a,"a")},sp.prototype.sa=function(e){Lf(this.a,new op(e))},sp.prototype.ra=function(e){Lf(this.a,new ap(e))},sp.prototype.qa=function(){Lf(this.a,"b")},rp.prototype.createWebChannel=rp.prototype.a,ip.prototype.send=ip.prototype.h,ip.prototype.open=ip.prototype.g,ip.prototype.close=ip.prototype.close,hh.NO_ERROR=0,hh.TIMEOUT=8,hh.HTTP_ERROR=6,dh.COMPLETE="complete",vh.EventType=gh,gh.OPEN="a",gh.CLOSE="b",gh.ERROR="c",gh.MESSAGE="d",Pf.prototype.listen=Pf.prototype.va,Sd.prototype.listenOnce=Sd.prototype.wa,Sd.prototype.getLastError=Sd.prototype.Qa,Sd.prototype.getLastErrorCode=Sd.prototype.ua,Sd.prototype.getStatus=Sd.prototype.W,Sd.prototype.getResponseJson=Sd.prototype.Pa,Sd.prototype.getResponseText=Sd.prototype.$,Sd.prototype.send=Sd.prototype.ba;var up=hh,cp=dh,lp=rh,fp=10,hp=11,dp=vh,pp=Sd,yp=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();yp.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vp=new Hc("@firebase/firestore");function mp(){return vp.logLevel}function gp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vp.logLevel<=Vc.DEBUG){var r=t.map(Ep);vp.debug.apply(vp,Ec(["Firestore (8.3.1): "+e],r))}}function bp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vp.logLevel<=Vc.ERROR){var r=t.map(Ep);vp.error.apply(vp,Ec(["Firestore (8.3.1): "+e],r))}}function wp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vp.logLevel<=Vc.WARN){var r=t.map(Ep);vp.warn.apply(vp,Ec(["Firestore (8.3.1): "+e],r))}}function Ep(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(n){return e}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+e;throw bp(t),new Error(t)}function Sp(e,t){e||_p()}function Tp(e,t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kp=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ip(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Np(e,t){return e<t?-1:e>t?1:0}function Cp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function xp(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ap(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(e){return null==e}function Op(e){return 0===e&&1/e==-1/0}function Rp(e){return"number"==typeof e&&Number.isInteger(e)&&!Op(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fp=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return vc(t,e),t}(Error),Up=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&_p(),void 0===n?n=e.length-t:n>e.length-t&&_p(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Vp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Up),qp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return qp.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Fp(Mp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Fp(Mp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Fp(Mp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Up),zp=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Vp.fromString(t))},e.fromName=function(t){return new e(Vp.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Vp.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Vp.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Vp(t.slice()))},e}(),Bp=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Np(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Bp.EMPTY_BYTE_STRING=new Bp("");var Kp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gp(e){if(Sp(!!e),"string"==typeof e){var t=0,n=Kp.exec(e);if(Sp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Qp(e.seconds),nanos:Qp(e.nanos)}}function Qp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hp(e){return"string"==typeof e?Bp.fromBase64String(e):Bp.fromUint8Array(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wp=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fp(Mp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fp(Mp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fp(Mp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fp(Mp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Np(this.nanoseconds,e.nanoseconds):Np(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yp(e){var t=e.mapValue.fields.__previous_value__;return $p(t)?Yp(t):t}function Xp(e){var t=Gp(e.mapValue.fields.__local_write_time__.timestampValue);return new Wp(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$p(e)?4:10:_p()}function Zp(e,t){var n,r=Jp(e);if(r!==Jp(t))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xp(e).isEqual(Xp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Gp(e.timestampValue),r=Gp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,Hp(e.bytesValue).isEqual(Hp(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Qp(e.geoPointValue.latitude)===Qp(t.geoPointValue.latitude)&&Qp(e.geoPointValue.longitude)===Qp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Qp(e.integerValue)===Qp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Qp(e.doubleValue),r=Qp(t.doubleValue);return n===r?Op(n)===Op(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Cp(e.arrayValue.values||[],t.arrayValue.values||[],Zp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Dp(n)!==Dp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zp(n[i],r[i])))return!1;return!0}(e,t);default:return _p()}}function ey(e,t){return void 0!==(e.values||[]).find((function(e){return Zp(e,t)}))}function ty(e,t){var n,r,i,o,a=Jp(e),s=Jp(t);if(a!==s)return Np(a,s);switch(a){case 0:return 0;case 1:return Np(e.booleanValue,t.booleanValue);case 2:return r=t,i=Qp((n=e).integerValue||n.doubleValue),o=Qp(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return ny(e.timestampValue,t.timestampValue);case 4:return ny(Xp(e),Xp(t));case 5:return Np(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Hp(e),r=Hp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Np(n[i],r[i]);if(0!==o)return o}return Np(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Np(Qp(e.latitude),Qp(t.latitude));return 0!==n?n:Np(Qp(e.longitude),Qp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=ty(n[i],r[i]);if(o)return o}return Np(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Np(r[a],o[a]);if(0!==s)return s;var u=ty(n[r[a]],i[o[a]]);if(0!==u)return u}return Np(r.length,o.length)}(e.mapValue,t.mapValue);default:throw _p()}}function ny(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Np(e,t);var n=Gp(e),r=Gp(t),i=Np(n.seconds,r.seconds);return 0!==i?i:Np(n.nanos,r.nanos)}function ry(e){return iy(e)}function iy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(t=e.timestampValue,"time("+(n=Gp(t)).seconds+","+n.nanos+")"):"stringValue"in e?e.stringValue:"bytesValue"in e?Hp(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,zp.fromName(i).toString()):"geoPointValue"in e?"geo("+(r=e.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=iy(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+iy(e.fields[o])}return t+"}"}(e.mapValue):_p();var t,n,r,i}function oy(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ay(e){return!!e&&"integerValue"in e}function sy(e){return!!e&&"arrayValue"in e}function uy(e){return!!e&&"nullValue"in e}function cy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ly(e){return!!e&&"mapValue"in e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fy=function(e,t){this.key=e,this.version=t},hy=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return vc(t,e),t.prototype.field=function(e){return this.objectValue.field(e)},t.prototype.data=function(){return this.objectValue},t.prototype.toProto=function(){return this.objectValue.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.objectValue.isEqual(e.objectValue)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(fy),dy=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return vc(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(fy),py=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(fy),yy=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function vy(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new yy(e,t,n,r,i,o,a)}function my(e){var t=Tp(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ry(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.canonicalString()+t.dir;var t})).join(","),Lp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Dy(t.startAt)),t.endAt&&(n+="|ub:",n+=Dy(t.endAt)),t.h=n}return t.h}function gy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Py(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Zp(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Oy(e.startAt,t.startAt)&&Oy(e.endAt,t.endAt)}function by(e){return zp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var wy=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return vc(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Ey(e,n,r):"array-contains"===n?new Iy(e,r):"in"===n?new ky(e,r):"not-in"===n?new Ny(e,r):"array-contains-any"===n?new Cy(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new _y(e,n):new Sy(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.m(ty(t,this.value)):null!==t&&Jp(this.value)===Jp(t)&&this.m(ty(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _p()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Ey=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=zp.fromName(r.referenceValue),i}return vc(t,e),t.prototype.matches=function(e){var t=zp.comparator(e.key,this.key);return this.m(t)},t}(wy),_y=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ty("in",n),r}return vc(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(wy),Sy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ty("not-in",n),r}return vc(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(wy);function Ty(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zp.fromName(e.referenceValue)}))}var Iy=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return vc(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return sy(t)&&ey(t.arrayValue,this.value)},t}(wy),ky=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return vc(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&ey(this.value.arrayValue,t)},t}(wy),Ny=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return vc(t,e),t.prototype.matches=function(e){if(ey(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!ey(this.value.arrayValue,t)},t}(wy),Cy=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return vc(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ey(t.value.arrayValue,e)}))},t}(wy),xy=function(e,t){this.position=e,this.before=t};function Dy(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ry(e)})).join(",")}var Ay=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Py(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ly(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?zp.comparator(zp.fromName(a.referenceValue),n.key):ty(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Oy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Zp(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ry=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function My(e,t,n,r,i,o,a,s){return new Ry(e,t,n,r,i,o,a,s)}function Fy(e){return new Ry(e)}function Uy(e){return!Lp(e.limit)&&"F"===e.limitType}function Vy(e){return!Lp(e.limit)&&"L"===e.limitType}function qy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jy(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function zy(e){return null!==e.collectionGroup}function By(e){var t=Tp(e);if(null===t.p){t.p=[];var n=jy(t),r=qy(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ay(n)),t.p.push(new Ay(jp.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ay(jp.keyField(),u))}}}return t.p}function Ky(e){var t=Tp(e);if(!t.T)if("F"===t.limitType)t.T=vy(t.path,t.collectionGroup,By(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=By(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ay(o.field,a))}var s=t.endAt?new xy(t.endAt.position,!t.endAt.before):null,u=t.startAt?new xy(t.startAt.position,!t.startAt.before):null;t.T=vy(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Gy(e,t,n){return new Ry(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qy(e,t){return gy(Ky(e),Ky(t))&&e.limitType===t.limitType}function Hy(e){return my(Ky(e))+"|lt:"+e.limitType}function Wy(e){return"Query(target="+(t=Ky(e),n=t.path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ry(t.value);var t})).join(", ")+"]"),Lp(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(t=e).field.canonicalString()+" ("+t.dir+")";var t})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Dy(t.startAt)),t.endAt&&(n+=", endAt: "+Dy(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function $y(e,t){return n=e,i=(r=t).key.path,(null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):zp.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ly(e.startAt,By(e),t)||e.endAt&&Ly(e.endAt,By(e),t))}(e,t);var n,r,i}function Yy(e){return function(t,n){for(var r=!1,i=0,o=By(e);i<o.length;i++){var a=o[i],s=Xy(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Xy(e,t,n){var r,i,o,a,s=e.field.isKeyField()?zp.comparator(t.key,n.key):(r=e.field,i=n,o=t.field(r),a=i.field(r),null!==o&&null!==a?ty(o,a):_p());switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return _p()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jy=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Wp(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}(),Zy=function(){function e(e){this.fields=e,e.sort(jp.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Cp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),ev=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!ly(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.isEqual=function(e){return Zp(this.proto,e.proto)},e}(),tv=function(){function e(e){void 0===e&&(e=ev.empty()),this.I=e,this.A=new Map}return e.prototype.set=function(e,t){return this.R(e,t),this},e.prototype.delete=function(e){return this.R(e,null),this},e.prototype.R=function(e,t){for(var n=this.A,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Jp(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.v=function(){var e=this.P(jp.emptyPath(),this.A);return null!=e?new ev(e):this.I},e.prototype.P=function(e,t){var n=this,r=!1,i=this.I.field(e),o=ly(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.P(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(e){var t=[];return Ap(e.fields||{},(function(e,n){var r=new jp([e]);if(ly(n)){var i=nv(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Zy(t)}function rv(e,t){if(e.V){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Op(t)?"-0":t}}function iv(e){return{integerValue:""+e}}function ov(e,t){return Rp(t)?iv(t):rv(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var av=function(){this._=void 0};function sv(e,t,n){return e instanceof lv?(i=t,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):e instanceof fv?hv(e,t):e instanceof dv?pv(e,t):function(e,t){var n=cv(e,t),r=vv(n)+vv(e.S);return ay(n)&&ay(e.S)?iv(r):rv(e.D,r)}(e,t);var r,i,o}function uv(e,t,n){return e instanceof fv?hv(e,t):e instanceof dv?pv(e,t):n}function cv(e,t){return e instanceof yv?ay(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}var lv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t}(av),fv=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return vc(t,e),t}(av);function hv(e,t){for(var n=mv(t),r=function(e){n.some((function(t){return Zp(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var dv=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return vc(t,e),t}(av);function pv(e,t){for(var n=mv(t),r=function(e){n=n.filter((function(t){return!Zp(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yv=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).D=t,r.S=n,r}return vc(t,e),t}(av);function vv(e){return Qp(e.integerValue||e.doubleValue)}function mv(e){return sy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gv=function(e,t){this.field=e,this.transform=t},bv=function(e,t){this.version=e,this.transformResults=t},wv=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Ev(e,t){return void 0!==e.updateTime?t instanceof hy&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof hy}var _v=function(){};function Sv(e,t,n){return e instanceof Cv?(i=t,o=n,a=(r=e).value,s=Av(r.fieldTransforms,i,o.transformResults),a=Lv(r.fieldTransforms,a,s),new hy(r.key,o.version,a,{hasCommittedMutations:!0})):e instanceof xv?function(e,t,n){if(!Ev(e.precondition,t))return new py(e.key,n.version);var r=Dv(e,t,Av(e.fieldTransforms,t,n.transformResults));return new hy(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new dy(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n);var r,i,o,a,s}function Tv(e,t,n){return e instanceof Cv?function(e,t,n){if(!Ev(e.precondition,t))return t;var r=e.value,i=Pv(e.fieldTransforms,n,t);r=Lv(e.fieldTransforms,r,i);var o=Nv(t);return new hy(e.key,o,r,{hasLocalMutations:!0})}(e,t,n):e instanceof xv?function(e,t,n){if(!Ev(e.precondition,t))return t;var r=Nv(t),i=Dv(e,t,Pv(e.fieldTransforms,n,t));return new hy(e.key,r,i,{hasLocalMutations:!0})}(e,t,n):(i=t,Ev((r=e).precondition,i)?new dy(r.key,Jy.min()):i);var r,i}function Iv(e,t){return function(e,t){for(var n=null,r=0,i=e;r<i.length;r++){var o=i[r],a=t instanceof hy?t.field(o.field):void 0,s=cv(o.transform,a||null);null!=s&&(n=null==n?(new tv).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(e.fieldTransforms,t)}function kv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Cp(n,r,(function(e,t){return r=t,(n=e).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof fv&&o instanceof fv||i instanceof dv&&o instanceof dv?Cp(i.elements,o.elements,Zp):i instanceof yv&&o instanceof yv?Zp(i.S,o.S):i instanceof lv&&o instanceof lv);var n,r,i,o}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Nv(e){return e instanceof hy?e.version:Jy.min()}var Cv=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return vc(t,e),t}(_v),xv=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return vc(t,e),t}(_v);function Dv(e,t,n){var r,i,o,a;return i=e,o=r=t instanceof hy?t.data():ev.empty(),a=new tv(o),i.fieldMask.fields.forEach((function(e){if(!e.isEmpty()){var t=i.data.field(e);null!==t?a.set(e,t):a.delete(e)}})),r=a.v(),Lv(e.fieldTransforms,r,n)}function Av(e,t,n){var r=[];Sp(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof hy&&(s=t.field(o.field)),r.push(uv(a,s,n[i]))}return r}function Pv(e,t,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof hy&&(u=n.field(a.field)),r.push(sv(s,u,t))}return r}function Lv(e,t,n){for(var r=new tv(t),i=0;i<e.length;i++){var o=e[i];r.set(o.field,n[i])}return r.v()}var Ov,Rv,Mv=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return vc(t,e),t}(_v),Fv=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return vc(t,e),t}(_v),Uv=function(e){this.count=e};function Vv(e){switch(e){case Mp.OK:return _p();case Mp.CANCELLED:case Mp.UNKNOWN:case Mp.DEADLINE_EXCEEDED:case Mp.RESOURCE_EXHAUSTED:case Mp.INTERNAL:case Mp.UNAVAILABLE:case Mp.UNAUTHENTICATED:return!1;case Mp.INVALID_ARGUMENT:case Mp.NOT_FOUND:case Mp.ALREADY_EXISTS:case Mp.PERMISSION_DENIED:case Mp.FAILED_PRECONDITION:case Mp.ABORTED:case Mp.OUT_OF_RANGE:case Mp.UNIMPLEMENTED:case Mp.DATA_LOSS:return!0;default:return _p()}}function qv(e){if(void 0===e)return bp("GRPC error has no .code"),Mp.UNKNOWN;switch(e){case Ov.OK:return Mp.OK;case Ov.CANCELLED:return Mp.CANCELLED;case Ov.UNKNOWN:return Mp.UNKNOWN;case Ov.DEADLINE_EXCEEDED:return Mp.DEADLINE_EXCEEDED;case Ov.RESOURCE_EXHAUSTED:return Mp.RESOURCE_EXHAUSTED;case Ov.INTERNAL:return Mp.INTERNAL;case Ov.UNAVAILABLE:return Mp.UNAVAILABLE;case Ov.UNAUTHENTICATED:return Mp.UNAUTHENTICATED;case Ov.INVALID_ARGUMENT:return Mp.INVALID_ARGUMENT;case Ov.NOT_FOUND:return Mp.NOT_FOUND;case Ov.ALREADY_EXISTS:return Mp.ALREADY_EXISTS;case Ov.PERMISSION_DENIED:return Mp.PERMISSION_DENIED;case Ov.FAILED_PRECONDITION:return Mp.FAILED_PRECONDITION;case Ov.ABORTED:return Mp.ABORTED;case Ov.OUT_OF_RANGE:return Mp.OUT_OF_RANGE;case Ov.UNIMPLEMENTED:return Mp.UNIMPLEMENTED;case Ov.DATA_LOSS:return Mp.DATA_LOSS;default:return _p()}}(Rv=Ov||(Ov={}))[Rv.OK=0]="OK",Rv[Rv.CANCELLED=1]="CANCELLED",Rv[Rv.UNKNOWN=2]="UNKNOWN",Rv[Rv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rv[Rv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rv[Rv.NOT_FOUND=5]="NOT_FOUND",Rv[Rv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rv[Rv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rv[Rv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rv[Rv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rv[Rv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rv[Rv.ABORTED=10]="ABORTED",Rv[Rv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rv[Rv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rv[Rv.INTERNAL=13]="INTERNAL",Rv[Rv.UNAVAILABLE=14]="UNAVAILABLE",Rv[Rv.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jv=function(){function e(e,t){this.comparator=e,this.root=t||Bv.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bv.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bv.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new zv(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new zv(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new zv(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new zv(this.root,e,this.comparator,!0)},e}(),zv=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Bv=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw _p();if(this.right.isRed())throw _p();var e=this.left.check();if(e!==this.right.check())throw _p();return e+(this.isRed()?0:1)},e}();Bv.EMPTY=null,Bv.RED=!0,Bv.BLACK=!1,Bv.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw _p()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw _p()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw _p()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw _p()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw _p()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Bv(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Kv=function(){function e(e){this.comparator=e,this.data=new jv(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Gv(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Gv(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Gv=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Qv=new jv(zp.comparator);function Hv(){return Qv}function Wv(){return Hv()}var $v=new jv(zp.comparator);function Yv(){return $v}var Xv=new jv(zp.comparator);var Jv=new Kv(zp.comparator);function Zv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Jv,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var em=new Kv(Np);function tm(){return em}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nm=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,rm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Jy.min(),r,tm(),Hv(),Zv())},e}(),rm=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Bp.EMPTY_BYTE_STRING,n,Zv(),Zv(),Zv())},e}(),im=function(e,t,n,r){this.C=e,this.removedTargetIds=t,this.key=n,this.N=r},om=function(e,t){this.targetId=e,this.$=t},am=function(e,t,n,r){void 0===n&&(n=Bp.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},sm=function(){function e(){this.F=0,this.O=lm(),this.k=Bp.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),e.prototype.U=function(e){e.approximateByteSize()>0&&(this.L=!0,this.k=e)},e.prototype.K=function(){var e=Zv(),t=Zv(),n=Zv();return this.O.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_p()}})),new rm(this.k,this.M,e,t,n)},e.prototype.W=function(){this.L=!1,this.O=lm()},e.prototype.j=function(e,t){this.L=!0,this.O=this.O.insert(e,t)},e.prototype.G=function(e){this.L=!0,this.O=this.O.remove(e)},e.prototype.H=function(){this.F+=1},e.prototype.J=function(){this.F-=1},e.prototype.Y=function(){this.L=!0,this.M=!0},e}(),um=function(){function e(e){this.X=e,this.Z=new Map,this.tt=Hv(),this.et=cm(),this.nt=new Kv(Np)}return e.prototype.st=function(e){for(var t=0,n=e.C;t<n.length;t++){var r=n[t];e.N instanceof hy?this.it(r,e.N):e.N instanceof dy&&this.rt(r,e.key,e.N)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.rt(r,e.key,e.N)},e.prototype.ot=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ct(n);switch(e.state){case 0:t.at(n)&&r.U(e.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(e.resumeToken);break;case 2:r.J(),r.B||t.removeTarget(n);break;case 3:t.at(n)&&(r.Y(),r.U(e.resumeToken));break;case 4:t.at(n)&&(t.ut(n),r.U(e.resumeToken));break;default:_p()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Z.forEach((function(e,r){n.at(r)&&t(r)}))},e.prototype.ht=function(e){var t=e.targetId,n=e.$.count,r=this.lt(t);if(r){var i=r.target;if(by(i))if(0===n){var o=new zp(i.path);this.rt(t,o,new dy(o,Jy.min()))}else Sp(1===n);else this.ft(t)!==n&&(this.ut(t),this.nt=this.nt.add(t))}},e.prototype.dt=function(e){var t=this,n=new Map;this.Z.forEach((function(r,i){var o=t.lt(i);if(o){if(r.current&&by(o.target)){var a=new zp(o.target.path);null!==t.tt.get(a)||t.wt(i,a)||t.rt(i,a,new dy(a,e))}r.q&&(n.set(i,r.K()),r.W())}}));var r=Zv();this.et.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.lt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new nm(e,n,this.nt,this.tt,r);return this.tt=Hv(),this.et=cm(),this.nt=new Kv(Np),i},e.prototype.it=function(e,t){if(this.at(e)){var n=this.wt(e,t.key)?2:0;this.ct(e).j(t.key,n),this.tt=this.tt.insert(t.key,t),this.et=this.et.insert(t.key,this._t(t.key).add(e))}},e.prototype.rt=function(e,t,n){if(this.at(e)){var r=this.ct(e);this.wt(e,t)?r.j(t,1):r.G(t),this.et=this.et.insert(t,this._t(t).delete(e)),n&&(this.tt=this.tt.insert(t,n))}},e.prototype.removeTarget=function(e){this.Z.delete(e)},e.prototype.ft=function(e){var t=this.ct(e).K();return this.X.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.H=function(e){this.ct(e).H()},e.prototype.ct=function(e){var t=this.Z.get(e);return t||(t=new sm,this.Z.set(e,t)),t},e.prototype._t=function(e){var t=this.et.get(e);return t||(t=new Kv(Np),this.et=this.et.insert(e,t)),t},e.prototype.at=function(e){var t=null!==this.lt(e);return t||gp("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.lt=function(e){var t=this.Z.get(e);return t&&t.B?null:this.X.yt(e)},e.prototype.ut=function(e){var t=this;this.Z.set(e,new sm),this.X.getRemoteKeysForTarget(e).forEach((function(n){t.rt(e,n,null)}))},e.prototype.wt=function(e,t){return this.X.getRemoteKeysForTarget(e).has(t)},e}();function cm(){return new jv(zp.comparator)}function lm(){return new jv(zp.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fm={asc:"ASCENDING",desc:"DESCENDING"},hm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dm=function(e,t){this.databaseId=e,this.V=t};function pm(e,t){return e.V?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ym(e,t){return e.V?t.toBase64():t.toUint8Array()}function vm(e,t){return pm(e,t.toTimestamp())}function mm(e){return Sp(!!e),Jy.fromTimestamp((t=Gp(e),new Wp(t.seconds,t.nanos)));var t}function gm(e,t){return(n=e,new Vp(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function bm(e){var t=Vp.fromString(e);return Sp(zm(t)),t}function wm(e,t){return gm(e.databaseId,t.path)}function Em(e,t){var n=bm(t);if(n.get(1)!==e.databaseId.projectId)throw new Fp(Mp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fp(Mp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zp(Im(n))}function _m(e,t){return gm(e.databaseId,t)}function Sm(e){var t=bm(e);return 4===t.length?Vp.emptyPath():Im(t)}function Tm(e){return new Vp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Im(e){return Sp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function km(e,t,n){return{name:wm(e,t),fields:n.proto.mapValue.fields}}function Nm(e,t){var n,r,i;if(t instanceof Cv)n={update:km(e,t.key,t.value)};else if(t instanceof Mv)n={delete:wm(e,t.key)};else if(t instanceof xv)n={update:km(e,t.key,t.data),updateMask:jm(t.fieldMask)};else{if(!(t instanceof Fv))return _p();n={verify:wm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof lv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yv)return{fieldPath:t.field.canonicalString(),increment:n.S};throw _p()}(0,e)}))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:vm(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_p())),n}function Cm(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?wv.updateTime(mm(n.updateTime)):void 0!==n.exists?wv.exists(n.exists):wv.none():wv.none(),i=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Sp("REQUEST_TIME"===t.setToServerValue),n=new lv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new fv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new dv(i)}else"increment"in t?n=new yv(e,t.increment):_p();var o=jp.fromServerFormat(t.fieldPath);return new gv(o,n)}(e,t)})):[];if(t.update){t.update.name;var o=Em(e,t.update.name),a=new ev({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){var t=e.fieldPaths||[];return new Zy(t.map((function(e){return jp.fromServerFormat(e)})))}(t.updateMask);return new xv(o,a,s,r,i)}return new Cv(o,a,r,i)}if(t.delete){var u=Em(e,t.delete);return new Mv(u,r)}if(t.verify){var c=Em(e,t.verify);return new Fv(c,r)}return _p()}function xm(e,t){return{documents:[_m(e,t.path)]}}function Dm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_m(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_m(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(cy(e.value))return{unaryFilter:{field:Fm(e.field),op:"IS_NAN"}};if(uy(e.value))return{unaryFilter:{field:Fm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cy(e.value))return{unaryFilter:{field:Fm(e.field),op:"IS_NOT_NAN"}};if(uy(e.value))return{unaryFilter:{field:Fm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fm(e.field),op:Mm(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return{field:Fm((t=e).field),direction:Rm(t.dir)};var t}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s,u=(a=e,s=t.limit,a.V||Lp(s)?s:{value:s});return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=Lm(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Lm(t.endAt)),n}function Am(e){var t=Sm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sp(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Pm(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return new Ay(Um((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var u,c,l=null;n.limit&&(u=n.limit,l=Lp(c="object"==typeof u?u.value:u)?null:c);var f=null;n.startAt&&(f=Om(n.startAt));var h=null;return n.endAt&&(h=Om(n.endAt)),My(t,i,s,a,l,"F",f,h)}function Pm(e){return e?void 0!==e.unaryFilter?[qm(e)]:void 0!==e.fieldFilter?[Vm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Pm(e)})).reduce((function(e,t){return e.concat(t)})):_p():[]}function Lm(e){return{before:e.before,values:e.position}}function Om(e){var t=!!e.before,n=e.values||[];return new xy(n,t)}function Rm(e){return fm[e]}function Mm(e){return hm[e]}function Fm(e){return{fieldPath:e.canonicalString()}}function Um(e){return jp.fromServerFormat(e.fieldPath)}function Vm(e){return wy.create(Um(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return _p()}}(e.fieldFilter.op),e.fieldFilter.value)}function qm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Um(e.unaryFilter.field);return wy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Um(e.unaryFilter.field);return wy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Um(e.unaryFilter.field);return wy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Um(e.unaryFilter.field);return wy.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return _p()}}function jm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function zm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Gm(t)),t=Km(e.get(n),t);return Gm(t)}function Km(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Gm(e){return e+""}function Qm(e){var t=e.length;if(Sp(t>=2),2===t)return Sp(""===e.charAt(0)&&""===e.charAt(1)),Vp.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&_p(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:_p()}o=a+2}return new Vp(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hm=function(e,t){this.seconds=e,this.nanoseconds=t},Wm=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Wm.store="owner",Wm.key="owner";var $m=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};$m.store="mutationQueues",$m.keyPath="userId";var Ym=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ym.store="mutations",Ym.keyPath="batchId",Ym.userMutationsIndex="userMutationsIndex",Ym.userMutationsKeyPath=["userId","batchId"];var Xm=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Bm(t)]},e.key=function(e,t,n){return[e,Bm(t),n]},e}();Xm.store="documentMutations",Xm.PLACEHOLDER=new Xm;var Jm=function(e,t){this.path=e,this.readTime=t},Zm=function(e,t){this.path=e,this.version=t},eg=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};eg.store="remoteDocuments",eg.readTimeIndex="readTimeIndex",eg.readTimeIndexPath="readTime",eg.collectionReadTimeIndex="collectionReadTimeIndex",eg.collectionReadTimeIndexPath=["parentPath","readTime"];var tg=function(e){this.byteSize=e};tg.store="remoteDocumentGlobal",tg.key="remoteDocumentGlobalKey";var ng=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ng.store="targets",ng.keyPath="targetId",ng.queryTargetsIndexName="queryTargetsIndex",ng.queryTargetsKeyPath=["canonicalId","targetId"];var rg=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};rg.store="targetDocuments",rg.keyPath=["targetId","path"],rg.documentTargetsIndex="documentTargetsIndex",rg.documentTargetsKeyPath=["path","targetId"];var ig=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ig.key="targetGlobalKey",ig.store="targetGlobal";var og=function(e,t){this.collectionId=e,this.parent=t};og.store="collectionParents",og.keyPath=["collectionId","parent"];var ag=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ag.store="clientMetadata",ag.keyPath="clientId";var sg=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};sg.store="bundles",sg.keyPath="bundleId";var ug=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ug.store="namedQueries",ug.keyPath="name";var cg=Ec(Ec([],Ec(Ec([],Ec(Ec([],Ec(Ec([],[$m.store,Ym.store,Xm.store,eg.store,ng.store,Wm.store,ig.store,rg.store]),[ag.store])),[tg.store])),[og.store])),[sg.store,ug.store]),lg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fg=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),hg=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},dg=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&_p(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),pg=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.gt=new hg,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){t.error?n.gt.reject(new mg(e,t.error)):n.gt.resolve()},this.transaction.onerror=function(t){var r=_g(t.target.error);n.gt.reject(new mg(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new mg(n,o)}},Object.defineProperty(e.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.gt.reject(e),this.aborted||(gp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new bg(t)},e}(),yg=function(){function e(t,n,r){this.name=t,this.version=n,this.Tt=r,12.2===e.It(Tc())&&bp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return gp("SimpleDb","Removing database:",e),wg(window.indexedDB.deleteDatabase(e)).toPromise()},e.At=function(){if("undefined"==typeof indexedDB)return!1;if(e.Rt())return!0;var t=Tc(),n=e.It(t),r=0<n&&n<10,i=e.bt(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Rt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.vt)},e.Pt=function(e,t){return e.store(t)},e.It=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.bt=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Vt=function(e){return gc(this,void 0,void 0,(function(){var t,n=this;return bc(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(gp("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new mg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Fp(Mp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new mg(e,n))},i.onupgradeneeded=function(e){gp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Tt.St(t,i.transaction,e.oldVersion,n.version).next((function(){gp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(e){return n.Dt(e)}),this.db)]}}))}))},e.prototype.Ct=function(e){this.Dt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o,a,s,u;return bc(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return bc(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.Vt(e)];case 2:return s.db=f.sent(),t=pg.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),dg.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.Et];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,gp("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),vg=function(){function e(e){this.xt=e,this.Nt=!1,this.$t=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.xt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Nt=!0},e.prototype.Ot=function(e){this.$t=e},e.prototype.delete=function(){return wg(this.xt.delete())},e}(),mg=function(e){function t(t,n){var r=this;return(r=e.call(this,Mp.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return vc(t,e),t}(Fp);function gg(e){return"IndexedDbTransactionError"===e.name}var bg=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(gp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wg(n)},e.prototype.add=function(e){return gp("SimpleDb","ADD",this.store.name,e,e),wg(this.store.add(e))},e.prototype.get=function(e){var t=this;return wg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gp("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return gp("SimpleDb","DELETE",this.store.name,e),wg(this.store.delete(e))},e.prototype.count=function(){return gp("SimpleDb","COUNT",this.store.name),wg(this.store.count())},e.prototype.kt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Mt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Lt=function(e,t){gp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(e,t,n){return n.delete()}))},e.prototype.qt=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Mt(r,t)},e.prototype.Ut=function(e){var t=this.cursor({});return new dg((function(n,r){t.onerror=function(e){var t=_g(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Mt=function(e,t){var n=[];return new dg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new vg(i),a=t(i.primaryKey,i.value,o);if(a instanceof dg){var s=a.catch((function(e){return o.done(),dg.reject(e)}));n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return dg.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Bt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function wg(e){return new dg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=_g(e.target.error);n(t)}}))}var Eg=!1;function _g(e){var t=yg.It(Tc());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Fp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Eg||(Eg=!0,setTimeout((function(){throw r}),0)),r}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sg=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qt=t,r.currentSequenceNumber=n,r}return vc(t,e),t}(fg);function Tg(e,t){var n=Tp(e);return yg.Pt(n.Qt,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ig=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=Sv(o,t,r[i]))}return t},e.prototype.applyToLocalView=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e)&&(t=Tv(a,t,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e)&&(t=Tv(a,t,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Zv())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Cp(this.mutations,e.mutations,(function(e,t){return kv(e,t)}))&&Cp(this.baseMutations,e.baseMutations,(function(e,t){return kv(e,t)}))},e}(),kg=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Sp(t.mutations.length===r.length);for(var i=Xv,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Ng=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Jy.min()),void 0===o&&(o=Jy.min()),void 0===a&&(a=Bp.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Cg=function(e){this.Kt=e};function xg(e,t){if(t.document)return function(e,t,n){var r=Em(e,t.name),i=mm(t.updateTime),o=new ev({mapValue:{fields:t.fields}});return new hy(r,i,o,{hasCommittedMutations:!!n})}(e.Kt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=zp.fromSegments(t.noDocument.path),r=Og(t.noDocument.readTime);return new dy(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=zp.fromSegments(t.unknownDocument.path);return r=Og(t.unknownDocument.version),new py(i,r)}return _p()}function Dg(e,t,n){var r,i,o=Ag(n),a=t.key.path.popLast().toArray();if(t instanceof hy){var s={name:wm(r=e.Kt,(i=t).key),fields:i.toProto().mapValue.fields,updateTime:pm(r,i.version.toTimestamp())},u=t.hasCommittedMutations;return new eg(null,null,s,u,o,a)}if(t instanceof dy){var c=t.key.path.toArray(),l=Lg(t.version);return u=t.hasCommittedMutations,new eg(null,new Jm(c,l),null,u,o,a)}if(t instanceof py){var f=t.key.path.toArray(),h=Lg(t.version);return new eg(new Zm(f,h),null,null,!0,o,a)}return _p()}function Ag(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Pg(e){var t=new Wp(e[0],e[1]);return Jy.fromTimestamp(t)}function Lg(e){var t=e.toTimestamp();return new Hm(t.seconds,t.nanoseconds)}function Og(e){var t=new Wp(e.seconds,e.nanoseconds);return Jy.fromTimestamp(t)}function Rg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Cm(e.Kt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Cm(e.Kt,t)})),s=Wp.fromMillis(t.localWriteTimeMs);return new Ig(t.batchId,s,n,a)}function Mg(e){var t,n,r=Og(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Og(e.lastLimboFreeSnapshotVersion):Jy.min();return void 0!==e.query.documents?(Sp(1===(n=e.query).documents.length),t=Ky(Fy(Sm(n.documents[0])))):t=Ky(Am(e.query)),new Ng(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Bp.fromBase64String(e.resumeToken))}function Fg(e,t){var n,r=Lg(t.snapshotVersion),i=Lg(t.lastLimboFreeSnapshotVersion);n=by(t.target)?xm(e.Kt,t.target):Dm(e.Kt,t.target);var o=t.resumeToken.toBase64();return new ng(t.targetId,my(t.target),r,o,t.sequenceNumber,i,n)}function Ug(e){var t=Am({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gy(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vg=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return qg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Og(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return qg(e).put({bundleId:(n=t).id,createTime:Lg(mm(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return jg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ug(t.bundledQuery),readTime:Og(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return jg(e).put({name:(n=t).name,readTime:Lg(mm(n.readTime)),bundledQuery:n.bundledQuery});var n},e}();function qg(e){return Tg(e,sg.store)}function jg(e){return Tg(e,ug.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zg=function(){function e(){this.Wt=new Bg}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Wt.add(t),dg.resolve()},e.prototype.getCollectionParents=function(e,t){return dg.resolve(this.Wt.getEntries(t))},e}(),Bg=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Kv(Vp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Kv(Vp.comparator)).toArray()},e}(),Kg=function(){function e(){this.jt=new Bg}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.jt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.jt.add(t)}));var o={collectionId:r,parent:Bm(i)};return Gg(e).put(o)}return dg.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[xp(t),""],!1,!0);return Gg(e).kt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Qm(o.parent))}return n}))},e}();function Gg(e){return Tg(e,og.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hg=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(e,t,n){var r=e.store(Ym.store),i=e.store(Xm.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Sp(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Xm.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return dg.waitFor(o).next((function(){return c}))}function $g(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _p();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hg.DEFAULT_COLLECTION_PERCENTILE=10,Hg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hg.DEFAULT=new Hg(41943040,Hg.DEFAULT_COLLECTION_PERCENTILE,Hg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hg.DISABLED=new Hg(-1,0,0);var Yg=function(){function e(e,t,n,r){this.userId=e,this.D=t,this.Gt=n,this.referenceDelegate=r,this.zt={}}return e.Ht=function(t,n,r,i){return Sp(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jg(e).qt({index:Ym.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Zg(e),a=Jg(e);return a.add({}).next((function(s){Sp("number"==typeof s);for(var u=new Ig(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Nm(e.Kt,t)})),i=n.mutations.map((function(t){return Nm(e.Kt,t)}));return new Ym(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],f=new Kv((function(e,t){return Np(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],y=Xm.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(y,Xm.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Gt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.zt[s]=u.keys()})),dg.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Jg(e).get(t).next((function(e){return e?(Sp(e.userId===n.userId),Rg(n.D,e)):null}))},e.prototype.Jt=function(e,t){var n=this;return this.zt[t]?dg.resolve(this.zt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.zt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Jg(e).qt({index:Ym.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Sp(t.batchId>=r),o=Rg(n.D,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jg(e).qt({index:Ym.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jg(e).kt(Ym.userMutationsIndex,n).next((function(e){return e.map((function(e){return Rg(t.D,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Xm.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Zg(e).qt({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Qm(u);if(s===n.userId&&t.path.isEqual(l))return Jg(e).get(c).next((function(e){if(!e)throw _p();Sp(e.userId===n.userId),o.push(Rg(n.D,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Kv(Np),i=[];return t.forEach((function(t){var o=Xm.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Zg(e).qt({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Qm(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),dg.waitFor(i).next((function(){return n.Yt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Xm.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Kv(Np);return Zg(e).qt({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Qm(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Yt(e,s)}))},e.prototype.Yt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Jg(e).get(t).next((function(e){if(null===e)throw _p();Sp(e.userId===n.userId),r.push(Rg(n.D,e))})))})),dg.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Wg(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Xt(t.batchId)})),dg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Xt=function(e){delete this.zt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return dg.resolve();var r=IDBKeyRange.lowerBound(Xm.prefixForUser(t.userId)),i=[];return Zg(e).qt({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Qm(e[1]);i.push(o)}else r.done()})).next((function(){Sp(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Xg(e,this.userId,t)},e.prototype.Zt=function(e){var t=this;return eb(e).get(this.userId).next((function(e){return e||new $m(t.userId,-1,"")}))},e}();function Xg(e,t,n){var r=Xm.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Zg(e).qt({range:o,Bt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Jg(e){return Tg(e,Ym.store)}function Zg(e){return Tg(e,Xm.store)}function eb(e){return Tg(e,$m.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tb=function(){function e(e){this.te=e}return e.prototype.next=function(){return this.te+=2,this.te},e.ee=function(){return new e(0)},e.ne=function(){return new e(-1)},e}(),nb=function(){function e(e,t){this.referenceDelegate=e,this.D=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.se(e).next((function(n){var r=new tb(n.highestTargetId);return n.highestTargetId=r.next(),t.ie(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.se(e).next((function(e){return Jy.fromTimestamp(new Wp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.se(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.se(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ie(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.re(e,t).next((function(){return n.se(e).next((function(r){return r.targetCount+=1,n.oe(t,r),n.ie(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.re(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return rb(e).delete(t.targetId)})).next((function(){return n.se(e)})).next((function(t){return Sp(t.targetCount>0),t.targetCount-=1,n.ie(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return rb(e).qt((function(a,s){var u=Mg(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return dg.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return rb(e).qt((function(e,n){var r=Mg(n);t(r)}))},e.prototype.se=function(e){return ib(e).get(ig.key).next((function(e){return Sp(null!==e),e}))},e.prototype.ie=function(e,t){return ib(e).put(ig.key,t)},e.prototype.re=function(e,t){return rb(e).put(Fg(this.D,t))},e.prototype.oe=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.se(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=my(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return rb(e).qt({range:r,index:ng.queryTargetsIndexName},(function(e,n,r){var o=Mg(n);gy(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=ob(e);return t.forEach((function(t){var a=Bm(t.path);i.push(o.put(new rg(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),dg.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=ob(e);return dg.forEach(t,(function(t){var o=Bm(t.path);return dg.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ob(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ob(e),i=Zv();return r.qt({range:n,Bt:!0},(function(e,t,n){var r=Qm(e[1]),o=new zp(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Bm(t.path),r=IDBKeyRange.bound([n],[xp(n)],!1,!0),i=0;return ob(e).qt({index:rg.documentTargetsIndex,Bt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.yt=function(e,t){return rb(e).get(t).next((function(e){return e?Mg(e):null}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(e){return Tg(e,ng.store)}function ib(e){return Tg(e,ig.store)}function ob(e){return Tg(e,rg.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){if(e.code!==Mp.FAILED_PRECONDITION||e.message!==lg)throw e;return gp("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Np(n,i);return 0===a?Np(r,o):a}var ub=function(){function e(e){this.ce=e,this.buffer=new Kv(sb),this.ae=0}return e.prototype.ue=function(){return++this.ae},e.prototype.he=function(e){var t=[e,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();sb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),cb=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.le=!1,this.fe=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(e)},e.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),e.prototype.de=function(e){var t=this,n=this.le?3e5:6e4;gp("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return gc(t,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return gg(t=n.sent())?(gp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,ab(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),lb=function(){function e(e,t){this.we=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.we._e(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return dg.resolve(yp.o);var r=new ub(t);return this.we.forEachTarget(e,(function(e){return r.he(e.sequenceNumber)})).next((function(){return n.we.me(e,(function(e){return r.he(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.we.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.we.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(gp("LruGarbageCollector","Garbage collection skipped; disabled"),dg.resolve(Qg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(gp("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Qg):n.ye(e,t)}))},e.prototype.getCacheSize=function(e){return this.we.getCacheSize(e)},e.prototype.ye=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(gp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),mp()<=Vc.DEBUG&&gp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),dg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),fb=function(){function e(e,t){this.db=e,this.garbageCollector=new lb(this,t)}return e.prototype._e=function(e){var t=this.ge(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.ge=function(e){var t=0;return this.me(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.me=function(e,t){return this.pe(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return hb(e,n)},e.prototype.removeReference=function(e,t,n){return hb(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return hb(e,t)},e.prototype.Ee=function(e,t){return r=t,i=!1,eb(n=e).Ut((function(e){return Xg(n,e,r).next((function(e){return e&&(i=!0),dg.resolve(!e)}))})).next((function(){return i}));var n,r,i},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(e,(function(a,s){if(s<=t){var u=n.Ee(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),ob(e).delete([0,Bm(a.path)])}))}));i.push(u)}})).next((function(){return dg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return hb(e,t)},e.prototype.pe=function(e,t){var n,r=ob(e),i=yp.o;return r.qt({index:rg.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==yp.o&&t(new zp(Qm(n)),i),i=s,n=a):i=yp.o})).next((function(){i!==yp.o&&t(new zp(Qm(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function hb(e,t){return ob(e).put((n=t,r=e.currentSequenceNumber,new rg(0,Bm(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var db=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Ap(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Pp(this.inner)},e}(),pb=function(){function e(){this.changes=new db((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Jy.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{maybeDocument:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{maybeDocument:null,readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?dg.resolve(n.maybeDocument):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),yb=function(){function e(e,t){this.D=e,this.Gt=t}return e.prototype.addEntry=function(e,t,n){return gb(e).put(bb(t),n)},e.prototype.removeEntry=function(e,t){var n=gb(e),r=bb(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Te(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return gb(e).get(bb(t)).next((function(e){return n.Ie(e)}))},e.prototype.Ae=function(e,t){var n=this;return gb(e).get(bb(t)).next((function(e){var t=n.Ie(e);return t?{maybeDocument:t,size:$g(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Wv();return this.Re(e,t,(function(e,t){var i=n.Ie(t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.be=function(e,t){var n=this,r=Wv(),i=new jv(zp.comparator);return this.Re(e,t,(function(e,t){var o=n.Ie(t);o?(r=r.insert(e,o),i=i.insert(e,$g(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{ve:r,Pe:i}}))},e.prototype.Re=function(e,t,n){if(t.isEmpty())return dg.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return gb(e).qt({range:r},(function(e,t,r){for(var a=zp.fromSegments(e);o&&zp.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Yv(),o=t.path.length+1,a={};if(n.isEqual(Jy.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Ag(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=eg.collectionReadTimeIndex}return gb(e).qt(a,(function(e,n,a){if(e.length===o){var s=xg(r.D,n);t.path.isPrefixOf(s.key.path)?s instanceof hy&&$y(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new vb(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return mb(e).get(tg.key).next((function(e){return Sp(!!e),e}))},e.prototype.Te=function(e,t){return mb(e).put(tg.key,t)},e.prototype.Ie=function(e){if(e){var t=xg(this.D,e);return t instanceof dy&&t.version.isEqual(Jy.min())?null:t}return null},e}(),vb=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ve=t,r.trackRemovals=n,r.Se=new db((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return vc(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Kv((function(e,t){return Np(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Se.get(o);if(a.maybeDocument){var u=Dg(t.Ve.D,a.maybeDocument,t.getReadTime(o));i=i.add(o.path.popLast());var c=$g(u);r+=c-s,n.push(t.Ve.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Dg(t.Ve.D,new dy(o,Jy.min()),t.getReadTime(o));n.push(t.Ve.addEntry(e,o,l))}else n.push(t.Ve.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ve.Gt.addToCollectionParentIndex(e,r))})),n.push(this.Ve.updateMetadata(e,r)),dg.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ve.Ae(e,t).next((function(e){return null===e?(n.Se.set(t,0),null):(n.Se.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ve.be(e,t).next((function(e){var t=e.ve;return e.Pe.forEach((function(e,t){n.Se.set(e,t)})),t}))},t}(pb);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(e){return Tg(e,tg.store)}function gb(e){return Tg(e,eg.store)}function bb(e){return e.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wb=function(){function e(e){this.D=e}return e.prototype.St=function(e,t,n,r){var i=this;Sp(n<r&&n>=0&&r<=11);var o=new pg("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(Wm.store),function(e){e.createObjectStore($m.store,{keyPath:$m.keyPath}),e.createObjectStore(Ym.store,{keyPath:Ym.keyPath,autoIncrement:!0}).createIndex(Ym.userMutationsIndex,Ym.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Xm.store)}(e),Eb(e),function(e){e.createObjectStore(eg.store)}(e));var a=dg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(rg.store),e.deleteObjectStore(ng.store),e.deleteObjectStore(ig.store)}(e),Eb(e)),a=a.next((function(){return function(e){var t=e.store(ig.store),n=new ig(0,0,Jy.min().toTimestamp(),0);return t.put(ig.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Ym.store).kt().next((function(n){e.deleteObjectStore(Ym.store),e.createObjectStore(Ym.store,{keyPath:Ym.keyPath,autoIncrement:!0}).createIndex(Ym.userMutationsIndex,Ym.userMutationsKeyPath,{unique:!0});var r=t.store(Ym.store),i=n.map((function(e){return r.put(e)}));return dg.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(ag.store,{keyPath:ag.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.De(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(tg.store)}(e),i.Ce(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.xe(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Ne(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(eg.store);t.createIndex(eg.readTimeIndex,eg.readTimeIndexPath,{unique:!1}),t.createIndex(eg.collectionReadTimeIndex,eg.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.$e(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(sg.store,{keyPath:sg.keyPath})}(e),function(e){e.createObjectStore(ug.store,{keyPath:ug.keyPath})}(e)}))),a},e.prototype.Ce=function(e){var t=0;return e.store(eg.store).qt((function(e,n){t+=$g(n)})).next((function(){var n=new tg(t);return e.store(tg.store).put(tg.key,n)}))},e.prototype.De=function(e){var t=this,n=e.store($m.store),r=e.store(Ym.store);return n.kt().next((function(n){return dg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Ym.userMutationsIndex,i).next((function(r){return dg.forEach(r,(function(r){Sp(r.userId===n.userId);var i=Rg(t.D,r);return Wg(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.xe=function(e){var t=e.store(rg.store),n=e.store(eg.store);return e.store(ig.store).get(ig.key).next((function(e){var r=[];return n.qt((function(n,i){var o=new Vp(n),a=[0,Bm(o)];r.push(t.get(a).next((function(n){return n?dg.resolve():(r=o,t.put(new rg(0,Bm(r),e.highestListenSequenceNumber)));var r})))})).next((function(){return dg.waitFor(r)}))}))},e.prototype.Ne=function(e,t){e.createObjectStore(og.store,{keyPath:og.keyPath});var n=t.store(og.store),r=new Bg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Bm(i)})}};return t.store(eg.store).qt({Bt:!0},(function(e,t){var n=new Vp(e);return i(n.popLast())})).next((function(){return t.store(Xm.store).qt({Bt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Qm(n));return i(r.popLast())}))}))},e.prototype.$e=function(e){var t=this,n=e.store(ng.store);return n.qt((function(e,r){var i=Mg(r),o=Fg(t.D,i);return n.put(o)}))},e}();function Eb(e){e.createObjectStore(rg.store,{keyPath:rg.keyPath}).createIndex(rg.documentTargetsIndex,rg.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ng.store,{keyPath:ng.keyPath}).createIndex(ng.queryTargetsIndexName,ng.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ig.store)}var _b="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sb=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(e){return Promise.resolve()},!e.At())throw new Fp(Mp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var f,h;this.referenceDelegate=new fb(this,i),this.We=n+"main",this.D=new Cg(u),this.je=new yg(this.We,11,new wb(this.D)),this.Ge=new nb(this.referenceDelegate,this.D),this.Gt=new Kg,this.ze=(f=this.D,h=this.Gt,new yb(f,h)),this.He=new Vg,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&bp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.Ye().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Fp(Mp.FAILED_PRECONDITION,_b);return e.Xe(),e.Ze(),e.tn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ge.getHighestSequenceNumber(t)}))})).then((function(t){e.Me=new yp(t,e.Oe)})).then((function(){e.Le=!0})).catch((function(t){return e.je&&e.je.close(),Promise.reject(t)}))},e.prototype.en=function(e){var t=this;return this.Ke=function(n){return gc(t,void 0,void 0,(function(){return bc(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.je.Ct((function(n){return gc(t,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget((function(){return gc(t,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Ye=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ib(t).put(new ag(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.nn(t).next((function(t){t||(e.isPrimary=!1,e.Fe.enqueueRetryable((function(){return e.Ke(!1)})))}))})).next((function(){return e.sn(t)})).next((function(n){return e.isPrimary&&!n?e.rn(t).next((function(){return!1})):!!n&&e.on(t).next((function(){return!0}))}))})).catch((function(t){if(gg(t))return gp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return gp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Fe.enqueueRetryable((function(){return e.Ke(t)})),e.isPrimary=t}))},e.prototype.nn=function(e){var t=this;return Tb(e).get(Wm.key).next((function(e){return dg.resolve(t.cn(e))}))},e.prototype.an=function(e){return Ib(e).delete(this.clientId)},e.prototype.un=function(){return gc(this,void 0,void 0,(function(){var e,t,n,r,i=this;return bc(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Tg(e,ag.store);return t.kt().next((function(e){var n=i.ln(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return dg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Je)for(t=0,n=e;t<n.length;t++)r=n[t],this.Je.removeItem(this.fn(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.tn=function(){var e=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ye().then((function(){return e.un()})).then((function(){return e.tn()}))}))},e.prototype.cn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.sn=function(e){var t=this;return this.ke?dg.resolve(!0):Tb(e).get(Wm.key).next((function(n){if(null!==n&&t.hn(n.leaseTimestampMs,5e3)&&!t.dn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new Fp(Mp.FAILED_PRECONDITION,_b);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ib(e).kt().next((function(e){return void 0===t.ln(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&gp("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return gc(this,void 0,void 0,(function(){var e=this;return bc(this,(function(t){switch(t.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Wm.store,ag.store],(function(t){var n=new Sg(t,yp.o);return e.rn(n).next((function(){return e.an(n)}))}))];case 1:return t.sent(),this.je.close(),this.yn(),[2]}}))}))},e.prototype.ln=function(e,t){var n=this;return e.filter((function(e){return n.hn(e.updateTimeMs,t)&&!n.dn(e.clientId)}))},e.prototype.gn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ib(t).kt().next((function(t){return e.ln(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Yg.Ht(e,this.D,this.Gt,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;gp("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.je.runTransaction(e,o,cg,(function(o){return i=new Sg(o,r.Me?r.Me.next():yp.o),"readwrite-primary"===t?r.nn(i).next((function(e){return!!e||r.sn(i)})).next((function(t){if(!t)throw bp("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.Ke(!1)})),new Fp(Mp.FAILED_PRECONDITION,lg);return n(i)})).next((function(e){return r.on(i).next((function(){return e}))})):r.pn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.pn=function(e){var t=this;return Tb(e).get(Wm.key).next((function(e){if(null!==e&&t.hn(e.leaseTimestampMs,5e3)&&!t.dn(e.ownerId)&&!t.cn(e)&&!(t.ke||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Fp(Mp.FAILED_PRECONDITION,_b)}))},e.prototype.on=function(e){var t=new Wm(this.clientId,this.allowTabSynchronization,Date.now());return Tb(e).put(Wm.key,t)},e.At=function(){return yg.At()},e.prototype.rn=function(e){var t=this,n=Tb(e);return n.get(Wm.key).next((function(e){return t.cn(e)?(gp("IndexedDbPersistence","Releasing primary lease."),n.delete(Wm.key)):dg.resolve()}))},e.prototype.hn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(bp("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Xe=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Fe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},e.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},e.prototype.Ze=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Be=function(){t.wn(),t.Fe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Be))},e.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},e.prototype.dn=function(e){var t;try{var n=null!==(null===(t=this.Je)||void 0===t?void 0:t.getItem(this.fn(e)));return gp("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return bp("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},e.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(e){bp("Failed to set zombie client id.",e)}},e.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(e){}},e.prototype.fn=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Tb(e){return Tg(e,Wm.store)}function Ib(e){return Tg(e,ag.store)}function kb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Nb=function(){function e(e,t,n){this.ze=e,this.Tn=t,this.Gt=n}return e.prototype.In=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.An(e,t,r)}))},e.prototype.An=function(e,t,n){return this.ze.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},e.prototype.Rn=function(e,t,n){var r=Wv();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},e.prototype.bn=function(e,t){var n=this;return this.ze.getEntries(e,t).next((function(t){return n.vn(e,t)}))},e.prototype.vn=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.Rn(e,t,r),o=Hv();return i.forEach((function(e,t){t||(t=new dy(e,Jy.min())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,zp.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Pn(e,t.path):zy(t)?this.Vn(e,t,n):this.Sn(e,t,n);var r},e.prototype.Pn=function(e,t){return this.In(e,new zp(t)).next((function(e){var t=Yv();return e instanceof hy&&(t=t.insert(e.key,e)),t}))},e.prototype.Vn=function(e,t,n){var r=this,i=t.collectionGroup,o=Yv();return this.Gt.getCollectionParents(e,i).next((function(a){return dg.forEach(a,(function(a){var s,u,c=(s=t,u=a.child(i),new Ry(u,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.Sn(e,c,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Sn=function(e,t,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Dn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=Tv(u,r.get(c),o.localWriteTime);r=l instanceof hy?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){$y(t,n)||(r=r.remove(e))})),r}))},e.prototype.Dn=function(e,t,n){for(var r=Zv(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof xv&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof hy&&(c=c.insert(e,t))})),c}))},e}(),Cb=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Cn=n,this.xn=r}return e.Nn=function(t,n){for(var r=Zv(),i=Zv(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),xb=function(){function e(){}return e.prototype.$n=function(e){this.Fn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i,o=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Jy.min())?this.On(e,t):this.Fn.bn(e,r).next((function(i){var a=o.kn(t,i);return(Uy(t)||Vy(t))&&o.Mn(t.limitType,a,r,n)?o.On(e,t):(mp()<=Vc.DEBUG&&gp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wy(t)),o.Fn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.kn=function(e,t){var n=new Kv(Yy(e));return t.forEach((function(t,r){r instanceof hy&&$y(e,r)&&(n=n.add(r))})),n},e.prototype.Mn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.On=function(e,t){return mp()<=Vc.DEBUG&&gp("QueryEngine","Using full collection scan to execute query:",Wy(t)),this.Fn.getDocumentsMatchingQuery(e,t,Jy.min())},e}(),Db=function(){function e(e,t,n,r){this.persistence=e,this.Ln=t,this.D=r,this.Bn=new jv(Np),this.qn=new db((function(e){return my(e)}),gy),this.Un=Jy.min(),this.Tn=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.Ge=e.getTargetCache(),this.Kn=new Nb(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=e.getBundleCache(),this.Ln.$n(this.Kn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Bn)}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e,t,n,r){return new Db(e,t,n,r)}function Pb(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o;return bc(this,(function(a){switch(a.label){case 0:return n=Tp(e),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.Tn.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Nb(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Zv(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var y=p[d];r.push(y.batchId);for(var v=0,m=y.mutations;v<m.length;v++){var g=m[v];a=a.add(g.key)}}return i.bn(e,a).next((function(e){return{Wn:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function Lb(e,t){var n=Tp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),f=n.Qn.newChangeBuffer({trackRemovals:!0});return(r=n,i=e,o=t,a=f,s=o.batch,u=s.keys(),c=dg.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=t,r=o.docVersions.get(e);Sp(null!==r),(!n||n.version.compareTo(r)<0)&&(n=s.applyToRemoteDocument(e,n,o))&&a.addEntry(n,o.commitVersion)}))})),c.next((function(){return r.Tn.removeMutationBatch(i,s)}))).next((function(){return f.apply(e)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,l)}))}))}function Ob(e){var t=Tp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ge.getLastRemoteSnapshotVersion(e)}))}function Rb(e,t){var n=Tp(e),r=t.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);if(l){a.push(n.Ge.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(e,t.addedDocuments,o)})));var f=t.resumeToken;if(f.approximateByteSize()>0){var h=l.withResumeToken(f,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,h),s=l,c=t,Sp((u=h).resumeToken.approximateByteSize()>0),(0===s.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&a.push(n.Ge.updateTargetData(e,h))}}}));var s=Hv();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(function(e,t,n,r,i){var o=Zv();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Hv();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof dy&&a.version.isEqual(Jy.min())?(t.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):gp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Jy.min())){var u=n.Ge.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ge.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return dg.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Kn.vn(e,s)}))})).then((function(e){return n.Bn=i,e}))}function Mb(e,t){var n=Tp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Tn.getNextMutationBatchAfterBatchId(e,t)}))}function Fb(e,t){var n=Tp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ge.getTargetData(e,t).next((function(i){return i?(r=i,dg.resolve(r)):n.Ge.allocateTargetId(e).next((function(i){return r=new Ng(t,i,0,e.currentSequenceNumber),n.Ge.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Bn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function Ub(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a;return bc(this,(function(s){switch(s.label){case 0:r=Tp(e),i=r.Bn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!gg(a=s.sent()))throw a;return gp("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(t),r.qn.delete(i.target),[2]}}))}))}function Vb(e,t,n){var r=Tp(e),i=Jy.min(),o=Zv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return(a=r,s=e,u=Ky(t),c=Tp(a),l=c.qn.get(u),void 0!==l?dg.resolve(c.Bn.get(l)):c.Ge.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(e,t,n?i:Jy.min(),n?o:Zv())})).next((function(e){return{documents:e,jn:o}}));var a,s,u,c,l}))}function qb(e,t){var n=Tp(e),r=Tp(n.Ge),i=n.Bn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.yt(e,t).next((function(e){return e?e.target:null}))}))}function jb(e){var t=Tp(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.Qn,r=e,i=t.Un,o=Tp(n),a=Hv(),s=Ag(i),u=gb(r),c=IDBKeyRange.lowerBound(s,!0),u.qt({index:eg.readTimeIndex,range:c},(function(e,t){var n=xg(o.D,t);a=a.insert(n.key,n),s=t.readTime})).next((function(){return{En:a,readTime:Pg(s)}}));var n,r,i,o,a,s,u,c})).then((function(e){var n=e.En,r=e.readTime;return t.Un=r,n}))}function zb(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){return[2,(t=Tp(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return t=gb(e),n=Jy.min(),t.qt({index:eg.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Pg(t.readTime)),r.done()})).next((function(){return n}));var t,n})).then((function(e){t.Un=e}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bb=function(){function e(e){this.D=e,this.Jn=new Map,this.Yn=new Map}return e.prototype.getBundleMetadata=function(e,t){return dg.resolve(this.Jn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:mm(n.createTime)}),dg.resolve()},e.prototype.getNamedQuery=function(e,t){return dg.resolve(this.Yn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.Yn.set(t.name,{name:(n=t).name,query:Ug(n.bundledQuery),readTime:mm(n.readTime)}),dg.resolve();var n},e}(),Kb=function(){function e(){this.Xn=new Kv(Gb.Zn),this.ts=new Kv(Gb.es)}return e.prototype.isEmpty=function(){return this.Xn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Gb(e,t);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},e.prototype.ns=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.ss(new Gb(e,t))},e.prototype.rs=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.os=function(e){var t=this,n=new zp(new Vp([])),r=new Gb(n,e),i=new Gb(n,e+1),o=[];return this.ts.forEachInRange([r,i],(function(e){t.ss(e),o.push(e.key)})),o},e.prototype.cs=function(){var e=this;this.Xn.forEach((function(t){return e.ss(t)}))},e.prototype.ss=function(e){this.Xn=this.Xn.delete(e),this.ts=this.ts.delete(e)},e.prototype.us=function(e){var t=new zp(new Vp([])),n=new Gb(t,e),r=new Gb(t,e+1),i=Zv();return this.ts.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Gb(e,0),n=this.Xn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Gb=function(){function e(e,t){this.key=e,this.hs=t}return e.Zn=function(e,t){return zp.comparator(e.key,t.key)||Np(e.hs,t.hs)},e.es=function(e,t){return Np(e.hs,t.hs)||zp.comparator(e.key,t.key)},e}(),Qb=function(){function e(e,t){this.Gt=e,this.referenceDelegate=t,this.Tn=[],this.ls=1,this.fs=new Kv(Gb.Zn)}return e.prototype.checkEmpty=function(e){return dg.resolve(0===this.Tn.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var o=new Ig(i,t,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new Gb(u.key,i)),this.Gt.addToCollectionParentIndex(e,u.key.path.popLast())}return dg.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return dg.resolve(this.ds(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return dg.resolve(this.Tn.length>i?this.Tn[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return dg.resolve(0===this.Tn.length?-1:this.ls-1)},e.prototype.getAllMutationBatches=function(e){return dg.resolve(this.Tn.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Gb(t,0),i=new Gb(t,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],(function(e){var t=n.ds(e.hs);o.push(t)})),dg.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Kv(Np);return t.forEach((function(e){var t=new Gb(e,0),i=new Gb(e,Number.POSITIVE_INFINITY);n.fs.forEachInRange([t,i],(function(e){r=r.add(e.hs)}))})),dg.resolve(this._s(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;zp.isDocumentKey(i)||(i=i.child(""));var o=new Gb(new zp(i),0),a=new Kv(Np);return this.fs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.hs)),!0)}),o),dg.resolve(this._s(a))},e.prototype._s=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ds(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Sp(0===this.ys(t.batchId,"removed")),this.Tn.shift();var r=this.fs;return dg.forEach(t.mutations,(function(i){var o=new Gb(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.fs=r}))},e.prototype.Xt=function(e){},e.prototype.containsKey=function(e,t){var n=new Gb(t,0),r=this.fs.firstAfterOrEqual(n);return dg.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this.Tn.length,dg.resolve()},e.prototype.ys=function(e,t){return this.ws(e)},e.prototype.ws=function(e){return 0===this.Tn.length?0:e-this.Tn[0].batchId},e.prototype.ds=function(e){var t=this.ws(e);return t<0||t>=this.Tn.length?null:this.Tn[t]},e}(),Hb=function(){function e(e,t){this.Gt=e,this.gs=t,this.docs=new jv(zp.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return dg.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Wv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),dg.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Yv(),i=new zp(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof hy&&$y(t,c)&&(r=r.insert(c.key,c))}return dg.resolve(r)},e.prototype.ps=function(e,t){return dg.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Wb(this)},e.prototype.getSize=function(e){return dg.resolve(this.size)},e}(),Wb=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ve=t,n}return vc(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(t.Ve.addEntry(e,i.maybeDocument,t.getReadTime(r))):t.Ve.removeEntry(r)})),dg.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ve.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ve.getEntries(e,t)},t}(pb),$b=function(){function e(e){this.persistence=e,this.Es=new db((function(e){return my(e)}),gy),this.lastRemoteSnapshotVersion=Jy.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Kb,this.targetCount=0,this.As=tb.ee()}return e.prototype.forEachTarget=function(e,t){return this.Es.forEach((function(e,n){return t(n)})),dg.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return dg.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return dg.resolve(this.Ts)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.As.next(),dg.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ts&&(this.Ts=t),dg.resolve()},e.prototype.re=function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.As=new tb(t),this.highestTargetId=t),e.sequenceNumber>this.Ts&&(this.Ts=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.re(t),this.targetCount+=1,dg.resolve()},e.prototype.updateTargetData=function(e,t){return this.re(t),dg.resolve()},e.prototype.removeTargetData=function(e,t){return this.Es.delete(t.target),this.Is.os(t.targetId),this.targetCount-=1,dg.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.Es.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),dg.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return dg.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.Es.get(t)||null;return dg.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this.Is.ns(t,n),dg.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this.Is.rs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),dg.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.Is.os(t),dg.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.Is.us(t);return dg.resolve(n)},e.prototype.containsKey=function(e,t){return dg.resolve(this.Is.containsKey(t))},e}(),Yb=function(){function e(e,t){var n,r=this;this.Rs={},this.Me=new yp(0),this.Le=!1,this.Le=!0,this.referenceDelegate=e(this),this.Ge=new $b(this),this.Gt=new zg,this.ze=(n=this.Gt,new Hb(n,(function(e){return r.referenceDelegate.bs(e)}))),this.D=new Cg(t),this.He=new Bb(this.D)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getMutationQueue=function(e){var t=this.Rs[e.toKey()];return t||(t=new Qb(this.Gt,this.referenceDelegate),this.Rs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;gp("MemoryPersistence","Starting transaction:",e);var i=new Xb(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Ps(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Vs=function(e,t){return dg.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Xb=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return vc(t,e),t}(fg),Jb=function(){function e(e){this.persistence=e,this.Ss=new Kb,this.Ds=null}return e.Cs=function(t){return new e(t)},Object.defineProperty(e.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw _p()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.Ss.addReference(n,t),this.xs.delete(n.toString()),dg.resolve()},e.prototype.removeReference=function(e,t,n){return this.Ss.removeReference(n,t),this.xs.add(n.toString()),dg.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.xs.add(t.toString()),dg.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Ss.os(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.vs=function(){this.Ds=new Set},e.prototype.Ps=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dg.forEach(this.xs,(function(r){var i=zp.fromPath(r);return t.Ns(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ds=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ns(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))},e.prototype.bs=function(e){return 0},e.prototype.Ns=function(e,t){var n=this;return dg.or([function(){return dg.resolve(n.Ss.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Vs(e,t)}])},e}(),Zb=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(e,t){return"firestore_clients_"+e+"_"+t}function tw(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function nw(e,t){return"firestore_targets_"+e+"_"+t}Zb.UNAUTHENTICATED=new Zb(null),Zb.GOOGLE_CREDENTIALS=new Zb("google-credentials-uid"),Zb.FIRST_PARTY=new Zb("first-party-uid");var rw=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.$s=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Fp(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(bp("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),iw=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.$s=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fp(i.error.code,i.error.message)),o?new e(t,i.state,r):(bp("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ow=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.$s=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=tm(),a=0;i&&a<r.activeTargetIds.length;++a)i=Rp(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(bp("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),aw=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.$s=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(bp("SharedClientState","Failed to parse online state: "+t),null)},e}(),sw=function(){function e(){this.activeTargetIds=tm()}return e.prototype.Os=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.ks=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Fs=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),uw=function(){function e(e,t,n,r,i){this.window=e,this.Fe=t,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new jv(Np),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=ew(this.persistenceKey,this.Ms),this.Ks="firestore_sequence_number_"+this.persistenceKey,this.qs=this.qs.insert(this.Ms,new sw),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Hs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return e.At=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return gc(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return bc(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ms&&(i=this.getItem(ew(this.persistenceKey,r)))&&(o=ow.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)l=c[u],this.Bs(l);return this.Us=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ks,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.ti(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.ti(e,t,n),this.ei(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(nw(this.persistenceKey,e));if(n){var r=iw.$s(e,n);r&&(t=r.state)}}return this.ni.Os(e),this.Js(),t},e.prototype.removeLocalQueryTarget=function(e){this.ni.ks(e),this.Js()},e.prototype.isLocalQueryTarget=function(e){return this.ni.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(nw(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.si(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.ei(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.ii(e)},e.prototype.notifyBundleLoaded=function(){this.ri()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return gp("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){gp("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){gp("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Bs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(gp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void bp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return gc(t,void 0,void 0,(function(){var e,t,r,i,o,a;return bc(this,(function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return e=this.oi(n.key),[2,this.ci(e,null)];if(t=this.ai(n.key,n.newValue))return[2,this.ci(t.clientId,t)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(e){var t=yp.o;if(null!=e)try{var n=JSON.parse(e);Sp("number"==typeof n),t=n}catch(r){bp("SharedClientState","Failed to read sequence number from WebStorage",r)}return t}(n.newValue))!==yp.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),e.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},e.prototype.ti=function(e,t,n){var r=new rw(this.currentUser,e,t,n),i=tw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Fs())},e.prototype.ei=function(e){var t=tw(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.ii=function(e){var t={clientId:this.Ms,onlineState:e};this.storage.setItem(this.zs,JSON.stringify(t))},e.prototype.si=function(e,t,n){var r=nw(this.persistenceKey,e),i=new iw(e,t,n);this.setItem(r,i.Fs())},e.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},e.prototype.oi=function(e){var t=this.Ws.exec(e);return t?t[1]:null},e.prototype.ai=function(e,t){var n=this.oi(e);return ow.$s(n,t)},e.prototype.ui=function(e,t){var n=this.js.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return rw.$s(new Zb(i),r,t)},e.prototype.li=function(e,t){var n=this.Gs.exec(e),r=Number(n[1]);return iw.$s(r,t)},e.prototype.Ys=function(e){return aw.$s(e)},e.prototype.hi=function(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(e.batchId,e.state,e.error)]:(gp("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.fi=function(e){return this.syncEngine._i(e.targetId,e.state,e.error)},e.prototype.ci=function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.mi(a,s).then((function(){n.qs=r}))},e.prototype.Xs=function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Zs=function(e){var t=tm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),cw=function(){function e(){this.yi=new sw,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.yi.Os(e),this.gi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.gi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.yi.ks(e)},e.prototype.isLocalQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.gi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.start=function(){return this.yi=new sw,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),lw=function(){function e(){}return e.prototype.pi=function(e){},e.prototype.shutdown=function(){},e}(),fw=function(){function e(){var e=this;this.Ei=function(){return e.Ti()},this.Ii=function(){return e.Ai()},this.Ri=[],this.bi()}return e.prototype.pi=function(e){this.Ri.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},e.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},e.prototype.Ti=function(){gp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(0)},e.prototype.Ai=function(){gp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(1)},e.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),hw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},dw=function(){function e(e){this.vi=e.vi,this.Pi=e.Pi}return e.prototype.Vi=function(e){this.Si=e},e.prototype.Di=function(e){this.Ci=e},e.prototype.onMessage=function(e){this.xi=e},e.prototype.close=function(){this.Pi()},e.prototype.send=function(e){this.vi(e)},e.prototype.Ni=function(){this.Si()},e.prototype.$i=function(e){this.Ci(e)},e.prototype.Fi=function(e){this.xi(e)},e}(),pw=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return vc(t,e),t.prototype.qi=function(e,t,n,r){return new Promise((function(i,o){var a=new pp;a.listenOnce(cp.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case up.NO_ERROR:var t=a.getResponseJson();gp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case up.TIMEOUT:gp("Connection",'RPC "'+e+'" timed out'),o(new Fp(Mp.DEADLINE_EXCEEDED,"Request time out"));break;case up.HTTP_ERROR:var n=a.getStatus();if(gp("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(Mp).indexOf(c)>=0?c:Mp.UNKNOWN);o(new Fp(s,r.message))}else o(new Fp(Mp.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Fp(Mp.UNAVAILABLE,"Connection failed."));break;default:_p()}}finally{gp("Connection",'RPC "'+e+'" completed.')}var u,c}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Qi=function(e,t){var n,r,i=[this.Oi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=new rp,a=oh(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(s.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tc())||"object"==typeof navigator&&"ReactNative"===navigator.product||Tc().indexOf("Electron/")>=0||((r=Tc()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||Tc().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");gp("Connection","Creating WebChannel: "+u,s);var c=o.createWebChannel(u,s),l=!1,f=!1,h=new dw({vi:function(e){f?gp("Connection","Not sending because WebChannel is closed:",e):(l||(gp("Connection","Opening WebChannel transport."),c.open(),l=!0),gp("Connection","WebChannel sending:",e),c.send(e))},Pi:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(c,dp.EventType.OPEN,(function(){f||gp("Connection","WebChannel transport opened.")})),d(c,dp.EventType.CLOSE,(function(){f||(f=!0,gp("Connection","WebChannel transport closed"),h.$i())})),d(c,dp.EventType.ERROR,(function(e){f||(f=!0,wp("Connection","WebChannel transport errored:",e),h.$i(new Fp(Mp.UNAVAILABLE,"The operation could not be completed")))})),d(c,dp.EventType.MESSAGE,(function(e){var t;if(!f){var n=e.data[0];Sp(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){gp("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ov[e];if(void 0!==t)return qv(t)}(o),s=i.message;void 0===a&&(a=Mp.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),f=!0,h.$i(new Fp(a,s)),c.close()}else gp("Connection","WebChannel received:",n),h.Fi(n)}})),d(a,lp.STAT_EVENT,(function(e){e.stat===fp?gp("Connection","Detected buffering proxy"):e.stat===hp&&gp("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Ni()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Oi=t+"://"+e.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Mi=function(e,t,n,r){var i=this.Li(e,t);gp("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(e,i,o,n).then((function(e){return gp("RestConnection","Received: ",e),e}),(function(t){throw wp("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Ui=function(e,t,n,r){return this.Mi(e,t,n,r)},e.prototype.Bi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.Li=function(e,t){var n=hw[e];return this.Oi+"/v1/"+t+":"+n},e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){return"undefined"!=typeof window?window:null}function vw(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(e){return new dm(e,!0)}var gw=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=e,this.timerId=t,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return e.prototype.reset=function(){this.Gi=0},e.prototype.Ji=function(){this.Gi=this.ji},e.prototype.Yi=function(e){var t=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&gp("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return t.Hi=Date.now(),e()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},e.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},e.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},e.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},e}(),bw=function(){function e(e,t,n,r,i,o){this.Fe=e,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new gw(e,t)}return e.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.ar=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.ur()},e.prototype.stop=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.hr=function(){this.state=0,this.rr.reset()},e.prototype.lr=function(){var e=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return e.dr()})))},e.prototype.wr=function(e){this._r(),this.stream.send(e)},e.prototype.dr=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){return this.ar()?[2,this.close(0)]:[2]}))}))},e.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},e.prototype.close=function(e,t){return gc(this,void 0,void 0,(function(){return bc(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===Mp.RESOURCE_EXHAUSTED?(bp(t.toString()),bp("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):t&&t.code===Mp.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Di(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.mr=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(t){e.sr===n&&e.gr(t)}),(function(n){t((function(){var t=new Fp(Mp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))},e.prototype.gr=function(e){var t=this,n=this.yr(this.sr);this.stream=this.Er(e),this.stream.Vi((function(){n((function(){return t.state=2,t.listener.Vi()}))})),this.stream.Di((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.ur=function(){var e=this;this.state=4,this.rr.Yi((function(){return gc(e,void 0,void 0,(function(){return bc(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.pr=function(e){return gp("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.yr=function(e){var t=this;return function(n){t.Fe.enqueueAndForget((function(){return t.sr===e?n():(gp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),ww=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return vc(t,e),t.prototype.Er=function(e){return this.er.Qi("Listen",e)},t.prototype.onMessage=function(e){this.rr.reset();var t=function(e,t){var n,r;if("targetChange"in t){t.targetChange;var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:_p(),o=t.targetChange.targetIds||[],a=function(e,t){return e.V?(Sp(void 0===t||"string"==typeof t),Bp.fromBase64String(t||"")):(Sp(void 0===t||t instanceof Uint8Array),Bp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?Mp.UNKNOWN:qv(e.code);return new Fp(t,e.message||"")}(u);n=new am(i,o,a,s||null)}else if("documentChange"in t){t.documentChange,(i=t.documentChange).document,i.document.name,i.document.updateTime,o=Em(e,i.document.name),a=mm(i.document.updateTime);var u=new ev({mapValue:{fields:i.document.fields}}),c=(s=new hy(o,a,u,{}),i.targetIds||[]),l=i.removedTargetIds||[];n=new im(c,l,s.key,s)}else if("documentDelete"in t)t.documentDelete,(i=t.documentDelete).document,o=Em(e,i.document),a=i.readTime?mm(i.readTime):Jy.min(),u=new dy(o,a),s=i.removedTargetIds||[],n=new im([],s,u.key,u);else if("documentRemove"in t)t.documentRemove,(i=t.documentRemove).document,o=Em(e,i.document),a=i.removedTargetIds||[],n=new im([],a,o,null);else{if(!("filter"in t))return _p();t.filter;var f=t.filter;f.targetId,i=f.count||0,o=new Uv(i),a=f.targetId,n=new om(a,o)}return n}(this.D,e),n=function(e){if(!("targetChange"in e))return Jy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Jy.min():t.readTime?mm(t.readTime):Jy.min()}(e);return this.listener.Tr(t,n)},t.prototype.Ir=function(e){var t,n,r,i,o={};o.database=Tm(this.D),o.addTarget=(t=this.D,i=(n=e).target,(r=by(i)?{documents:xm(t,i)}:{query:Dm(t,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=ym(t,n.resumeToken):n.snapshotVersion.compareTo(Jy.min())>0&&(r.readTime=pm(t,n.snapshotVersion.toTimestamp())),r);var a=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _p()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,e);a&&(o.labels=a),this.wr(o)},t.prototype.Ar=function(e){var t={};t.database=Tm(this.D),t.removeTarget=e,this.wr(t)},t}(bw),Ew=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return vc(t,e),Object.defineProperty(t.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mr=function(){this.Rr&&this.vr([])},t.prototype.Er=function(e){return this.er.Qi("Write",e)},t.prototype.onMessage=function(e){if(Sp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=(r=e.writeResults,i=e.commitTime,r&&r.length>0?(Sp(void 0!==i),r.map((function(e){return n=i,(r=(t=e).updateTime?mm(t.updateTime):mm(n)).isEqual(Jy.min())&&(r=mm(n)),new bv(r,t.transformResults||[]);var t,n,r}))):[]),n=mm(e.commitTime);return this.listener.Pr(n,t)}var r,i;return Sp(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()},t.prototype.Sr=function(){var e={};e.database=Tm(this.D),this.wr(e)},t.prototype.vr=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Nm(t.D,e)}))};this.wr(n)},t}(bw),_w=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.er=n,i.D=r,i.Dr=!1,i}return vc(t,e),t.prototype.Cr=function(){if(this.Dr)throw new Fp(Mp.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Mi=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(e,t,n,i)})).catch((function(e){throw e.code===Mp.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Ui=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(e,t,n,i)})).catch((function(e){throw e.code===Mp.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Dr=!1},t}((function(){})),Sw=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return e.prototype.Or=function(){var e=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.$r=null,e.Mr("Backend didn't respond within 10 seconds."),e.kr("Offline"),Promise.resolve()})))},e.prototype.Lr=function(e){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+e.toString()),this.kr("Offline")))},e.prototype.set=function(e){this.Br(),this.Nr=0,"Online"===e&&(this.Fr=!1),this.kr(e)},e.prototype.kr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Mr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(bp(t),this.Fr=!1):gp("OnlineStateTracker",t)},e.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},e}(),Tw=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(e){n.enqueueAndForget((function(){return gc(o,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return Lw(this)?(gp("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return(t=Tp(e)).Qr.add(4),[4,kw(t)];case 1:return n.sent(),t.jr.set("Unknown"),t.Qr.delete(4),[4,Iw(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.jr=new Sw(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(e){return gc(this,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:if(!Lw(e))return[3,4];t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function kw(e){return gc(this,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Nw(e,t){var n=Tp(e);n.Ur.has(t.targetId)||(n.Ur.set(t.targetId,t),Pw(n)?Aw(n):Ww(n).ar()&&xw(n,t))}function Cw(e,t){var n=Tp(e),r=Ww(n);n.Ur.delete(t),r.ar()&&Dw(n,t),0===n.Ur.size&&(r.ar()?r.lr():Lw(n)&&n.jr.set("Unknown"))}function xw(e,t){e.Gr.H(t.targetId),Ww(e).Ir(t)}function Dw(e,t){e.Gr.H(t),Ww(e).Ar(t)}function Aw(e){e.Gr=new um({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},yt:function(t){return e.Ur.get(t)||null}}),Ww(e).start(),e.jr.Or()}function Pw(e){return Lw(e)&&!Ww(e).cr()&&e.Ur.size>0}function Lw(e){return 0===Tp(e).Qr.size}function Ow(e){e.Gr=void 0}function Rw(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){return e.Ur.forEach((function(t,n){xw(e,t)})),[2]}))}))}function Mw(e,t){return gc(this,void 0,void 0,(function(){return bc(this,(function(n){return Ow(e),Pw(e)?(e.jr.Lr(t),Aw(e)):e.jr.set("Unknown"),[2]}))}))}function Fw(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o;return bc(this,(function(a){switch(a.label){case 0:if(e.jr.set("Online"),!(t instanceof am&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o;return bc(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Ur.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Ur.delete(o),e.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),gp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Uw(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof im?e.Gr.st(t):t instanceof om?e.Gr.ht(t):e.Gr.ot(t),n.isEqual(Jy.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ob(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,(s=e,u=n,c=s.Gr.dt(u),c.targetChanges.forEach((function(e,t){if(e.resumeToken.approximateByteSize()>0){var n=s.Ur.get(t);n&&s.Ur.set(t,n.withResumeToken(e.resumeToken,u))}})),c.targetMismatches.forEach((function(e){var t=s.Ur.get(e);if(t){s.Ur.set(e,t.withResumeToken(Bp.EMPTY_BYTE_STRING,t.snapshotVersion)),Dw(s,e);var n=new Ng(t.target,e,1,t.sequenceNumber);xw(s,n)}})),s.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return gp("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Uw(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}var s,u,c}))}))}function Uw(e,t,n){return gc(this,void 0,void 0,(function(){var r=this;return bc(this,(function(i){switch(i.label){case 0:if(!gg(t))throw t;return e.Qr.add(1),[4,kw(e)];case 1:return i.sent(),e.jr.set("Offline"),n||(n=function(){return Ob(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return gc(r,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return gp("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Qr.delete(1),[4,Iw(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Vw(e,t){return t().catch((function(n){return Uw(e,n,t)}))}function qw(e){return gc(this,void 0,void 0,(function(){var t,n,r,i,o;return bc(this,(function(a){switch(a.label){case 0:t=Tp(e),n=$w(t),r=t.qr.length>0?t.qr[t.qr.length-1].batchId:-1,a.label=1;case 1:if(!(Lw(s=t)&&s.qr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Mb(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(e,t){e.qr.push(t);var n=$w(e);n.ar()&&n.br&&n.vr(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Uw(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return jw(t)&&zw(t),[2]}var s}))}))}function jw(e){return Lw(e)&&!$w(e).cr()&&e.qr.length>0}function zw(e){$w(e).start()}function Bw(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){return $w(e).Sr(),[2]}))}))}function Kw(e){return gc(this,void 0,void 0,(function(){var t,n,r,i;return bc(this,(function(o){for(t=$w(e),n=0,r=e.qr;n<r.length;n++)i=r[n],t.vr(i.mutations);return[2]}))}))}function Gw(e,t,n){return gc(this,void 0,void 0,(function(){var r,i;return bc(this,(function(o){switch(o.label){case 0:return r=e.qr.shift(),i=kg.from(r,t,n),[4,Vw(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,qw(e)];case 2:return o.sent(),[2]}}))}))}function Qw(e,t){return gc(this,void 0,void 0,(function(){return bc(this,(function(n){switch(n.label){case 0:return t&&$w(e).br?[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:return Vv(r=t.code)&&r!==Mp.ABORTED?(n=e.qr.shift(),$w(e).hr(),[4,Vw(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,qw(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jw(e)&&zw(e),[2]}}))}))}function Hw(e,t){return gc(this,void 0,void 0,(function(){var n;return bc(this,(function(r){switch(r.label){case 0:return n=Tp(e),t?(n.Qr.delete(2),[4,Iw(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Qr.add(2),[4,kw(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ww(e){var t,n,r,i,o=this;return e.zr||(e.zr=(t=e.datastore,n=e.asyncQueue,r={Vi:Rw.bind(null,e),Di:Mw.bind(null,e),Tr:Fw.bind(null,e)},(i=Tp(t)).Cr(),new ww(n,i.er,i.credentials,i.D,r)),e.Kr.push((function(t){return gc(o,void 0,void 0,(function(){return bc(this,(function(n){switch(n.label){case 0:return t?(e.zr.hr(),Pw(e)?Aw(e):e.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.zr.stop()];case 2:n.sent(),Ow(e),n.label=3;case 3:return[2]}}))}))}))),e.zr}function $w(e){var t,n,r,i,o=this;return e.Hr||(e.Hr=(t=e.datastore,n=e.asyncQueue,r={Vi:Bw.bind(null,e),Di:Qw.bind(null,e),Vr:Kw.bind(null,e),Pr:Gw.bind(null,e)},(i=Tp(t)).Cr(),new Ew(n,i.er,i.credentials,i.D,r)),e.Kr.push((function(t){return gc(o,void 0,void 0,(function(){return bc(this,(function(n){switch(n.label){case 0:return t?(e.Hr.hr(),[4,qw(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Hr.stop()];case 3:n.sent(),e.qr.length>0&&(gp("RemoteStore","Stopping write stream with "+e.qr.length+" pending writes"),e.qr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Hr}var Yw=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fp(Mp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Xw(e,t){if(bp("AsyncQueue",t+": "+e),gg(e))return new Fp(Mp.UNAVAILABLE,t+": "+e);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jw=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||zp.comparator(t.key,n.key)}:function(e,t){return zp.comparator(e.key,t.key)},this.keyedMap=Yv(),this.sortedSet=new jv(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Zw=function(){function e(){this.Jr=new jv(zp.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):_p():this.Jr=this.Jr.insert(t,e)},e.prototype.Yr=function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),eE=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Jw.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),tE=function(){this.Xr=void 0,this.listeners=[]},nE=function(){this.queries=new db((function(e){return Hy(e)}),Qy),this.onlineState="Unknown",this.Zr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return bc(this,(function(c){switch(c.label){case 0:if(n=Tp(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new tE),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=Xw(s,"Initialization of query '"+Wy(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&sE(n),[2]}}))}))}function iE(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a;return bc(this,(function(s){return n=Tp(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function oE(e,t){for(var n=Tp(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].no(a)&&(r=!0);u.Xr=a}}r&&sE(n)}function aE(e,t,n){var r=Tp(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function sE(e){e.Zr.forEach((function(e){e.next()}))}var uE=function(){function e(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.no=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new eE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.io?this.oo(e)&&(this.so.next(e),o=!0):this.co(e,this.onlineState)&&(this.ao(e),o=!0),this.ro=e,o},e.prototype.onError=function(e){this.so.error(e)},e.prototype.eo=function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.co(this.ro,e)&&(this.ao(this.ro),t=!0),t},e.prototype.co=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.oo=function(e){if(e.docChanges.length>0)return!0;var t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.ao=function(e){e=eE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)},e}(),cE=function(e){this.key=e},lE=function(e){this.key=e},fE=function(){function e(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Zv(),this.mutatedKeys=Zv(),this.po=Yy(e),this.Eo=new Jw(this.po)}return Object.defineProperty(e.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),e.prototype.Io=function(e,t){var n=this,r=t?t.Ao:new Zw,i=t?t.Eo:this.Eo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Uy(this.query)&&i.size===this.query.limit?i.last():null,c=Vy(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=t instanceof hy?t:null;f&&(f=$y(n.query,f)?f:null);var h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.po(f,u)>0||c&&n.po(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Uy(this.query)||Vy(this.query))for(;a.size>this.query.limit;){var l=Uy(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},e.prototype.Ro=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;var o=e.Ao.Yr();o.sort((function(e,t){return n=e.type,i=t.type,(o=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _p()}})(n)-o(i)||r.po(e.doc,t.doc);var n,i,o})),this.bo(n);var a=t?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new eE(this.query,e.Eo,i,o,e.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},e.prototype.eo=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Zw,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},e.prototype.Vo=function(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations},e.prototype.bo=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)},e.prototype.vo=function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=Zv(),this.Eo.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new lE(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new cE(e))})),n},e.prototype.So=function(e){this._o=e.jn,this.yo=Zv();var t=this.Io(e.documents);return this.applyChanges(t,!0)},e.prototype.Do=function(){return eE.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},e}(),hE=function(e,t,n){this.query=e,this.targetId=t,this.view=n},dE=function(e){this.key=e,this.Co=!1},pE=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new db((function(e){return Hy(e)}),Qy),this.$o=new Map,this.Fo=new Set,this.Oo=new jv(zp.comparator),this.ko=new Map,this.Mo=new Kb,this.Lo={},this.Bo=new Map,this.qo=tb.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s;return bc(this,(function(u){switch(u.label){case 0:return n=KE(e),(o=n.No.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do(),[3,4]):[3,1];case 1:return[4,Fb(n.localStore,Ky(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,vE(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Nw(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function vE(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o,a,s,u,c;return bc(this,(function(l){switch(l.label){case 0:return e.Qo=function(t,n,r){return function(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o,a;return bc(this,(function(s){switch(s.label){case 0:return(i=t.view.Io(n)).Mn?[4,Vb(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view.Io(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(xE(e,t.targetId,a.Po),a.snapshot)]}}))}))}(e,t,n,r)},[4,Vb(e.localStore,t,!0)];case 1:return i=l.sent(),o=new fE(t,i.jn),a=o.Io(i.documents),s=rm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),xE(e,n,u.Po),c=new hE(t,n,o),[2,(e.No.set(t,c),e.$o.has(n)?e.$o.get(n).push(t):e.$o.set(n,[t]),u.snapshot)]}}))}))}function mE(e,t){return gc(this,void 0,void 0,(function(){var n,r,i;return bc(this,(function(o){switch(o.label){case 0:return n=Tp(e),r=n.No.get(t),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(e){return!Qy(e,t)}))),void n.No.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ub(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Cw(n.remoteStore,r.targetId),NE(n,r.targetId)})).catch(ab)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return NE(n,r.targetId),[4,Ub(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function gE(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a;return bc(this,(function(s){switch(s.label){case 0:r=GE(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(u=r.localStore,c=t,f=Tp(u),h=Wp.now(),d=c.reduce((function(e,t){return e.add(t.key)}),Zv()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return f.Kn.bn(e,d).next((function(t){l=t;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],a=Iv(o,l.get(o.key));null!=a&&n.push(new xv(o.key,a,nv(a.proto.mapValue),wv.exists(!0)))}return f.Tn.addMutationBatch(e,h,n,c)}))})).then((function(e){var t=e.applyToLocalDocumentSet(l);return{batchId:e.batchId,changes:t}})))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r||(r=new jv(Np)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,PE(r,i.changes)];case 3:return s.sent(),[4,qw(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Xw(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}var u,c,l,f,h,d}))}))}function bE(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:n=Tp(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Rb(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.ko.get(t);r&&(Sp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Sp(r.Co):e.removedDocuments.size>0&&(Sp(r.Co),r.Co=!1))})),[4,PE(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,ab(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function wE(e,t,n){var r=Tp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(e,n){var r=n.view.eo(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Tp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(t)&&(r=!0)})),r&&sE(n)}(r.eventManager,t),i.length&&r.xo.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function EE(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a,s,u;return bc(this,(function(c){switch(c.label){case 0:return(r=Tp(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.ko.get(t),(o=i&&i.key)?(a=(a=new jv(zp.comparator)).insert(o,new dy(o,Jy.min())),s=Zv().add(o),u=new nm(Jy.min(),new Map,new Kv(Np),a,s),[4,bE(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(t),AE(r),[3,4];case 2:return[4,Ub(r.localStore,t,!1).then((function(){return NE(r,t,n)})).catch(ab)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function _E(e,t){return gc(this,void 0,void 0,(function(){var n,r,i;return bc(this,(function(o){switch(o.label){case 0:n=Tp(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Lb(n.localStore,t)];case 2:return i=o.sent(),kE(n,r,null),IE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,PE(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ab(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function SE(e,t,n){return gc(this,void 0,void 0,(function(){var r,i;return bc(this,(function(o){switch(o.label){case 0:r=Tp(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,u=Tp(a),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u.Tn.lookupMutationBatch(e,s).next((function(n){return Sp(null!==n),t=n.keys(),u.Tn.removeMutationBatch(e,n)})).next((function(){return u.Tn.performConsistencyCheck(e)})).next((function(){return u.Kn.bn(e,t)}))})))];case 2:return i=o.sent(),kE(r,t,n),IE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,PE(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ab(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function TE(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a;return bc(this,(function(s){switch(s.label){case 0:Lw((n=Tp(e)).remoteStore)||gp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(u=n.localStore,c=Tp(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return c.Tn.getHighestUnacknowledgedBatchId(e)})))];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Bo.get(r)||[]).push(t),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Xw(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}var u,c}))}))}function IE(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function kE(e,t,n){var r=Tp(e),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function NE(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.$o.get(t);r<i.length;r++){var o=i[r];e.No.delete(o),n&&e.xo.Ko(o,n)}e.$o.delete(t),e.isPrimaryClient&&e.Mo.os(t).forEach((function(t){e.Mo.containsKey(t)||CE(e,t)}))}function CE(e,t){e.Fo.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(Cw(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.ko.delete(n),AE(e))}function xE(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof cE?(e.Mo.addReference(o.key,t),DE(e,o)):o instanceof lE?(gp("SyncEngine","Document no longer in limbo: "+o.key),e.Mo.removeReference(o.key,t),e.Mo.containsKey(o.key)||CE(e,o.key)):_p()}}function DE(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.Fo.has(r)||(gp("SyncEngine","New document in limbo: "+n),e.Fo.add(r),AE(e))}function AE(e){for(;e.Fo.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.Fo.values().next().value;e.Fo.delete(t);var n=new zp(Vp.fromString(t)),r=e.qo.next();e.ko.set(r,new dE(n)),e.Oo=e.Oo.insert(n,r),Nw(e.remoteStore,new Ng(Ky(Fy(n.path)),r,2,yp.o))}}function PE(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a;return bc(this,(function(s){switch(s.label){case 0:return r=Tp(e),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(e,s){a.push(r.Qo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Cb.Nn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return bc(this,(function(f){switch(f.label){case 0:n=Tp(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return dg.forEach(t,(function(t){return dg.forEach(t.Cn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return dg.forEach(t.xn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!gg(r=f.sent()))throw r;return gp("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Bn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Bn=n.Bn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function LE(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:return(n=Tp(e)).currentUser.isEqual(t)?[3,3]:(gp("SyncEngine","User change. New user:",t.toKey()),[4,Pb(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).Bo.forEach((function(e){e.forEach((function(e){e.reject(new Fp(Mp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Bo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,PE(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function OE(e,t){var n=Tp(e),r=n.ko.get(t);if(r&&r.Co)return Zv().add(r.key);var i=Zv(),o=n.$o.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.No.get(u);i=i.unionWith(c.view.To)}return i}function RE(e,t){return gc(this,void 0,void 0,(function(){var n,r,i;return bc(this,(function(o){switch(o.label){case 0:return[4,Vb((n=Tp(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.So(r),[2,(n.isPrimaryClient&&xE(n,t.targetId,i.Po),i)]}}))}))}function ME(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){return[2,jb((t=Tp(e)).localStore).then((function(e){return PE(t,e)}))]}))}))}function FE(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o;return bc(this,(function(a){switch(a.label){case 0:return[4,(s=(i=Tp(e)).localStore,u=t,c=Tp(s),l=Tp(c.Tn),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.Jt(e,u).next((function(t){return t?c.Kn.bn(e,t):dg.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,qw(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(kE(i,t,r||null),IE(i,t),function(e,t){Tp(Tp(e).Tn).Xt(t)}(i.localStore,t)):_p(),a.label=4;case 4:return[4,PE(i,o)];case 5:return a.sent(),[3,7];case 6:gp("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function UE(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return bc(this,(function(l){switch(l.label){case 0:return KE(n=Tp(e)),GE(n),!0!==t||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,VE(n,r.toArray())]);case 1:return i=l.sent(),n.Uo=!0,[4,Hw(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Nw(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Uo?[3,7]:(u=[],c=Promise.resolve(),n.$o.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return NE(n,t),Ub(n.localStore,t,!0)})),Cw(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,VE(n,u)];case 5:return l.sent(),(f=Tp(n)).ko.forEach((function(e,t){Cw(f.remoteStore,t)})),f.Mo.cs(),f.ko=new Map,f.Oo=new jv(zp.comparator),n.Uo=!1,[4,Hw(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var f}))}))}function VE(e,t,n){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,y;return bc(this,(function(v){switch(v.label){case 0:n=Tp(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.$o.get(s))&&0!==c.length?[4,Fb(n.localStore,Ky(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=f[l],d=n.No.get(h),[4,RE(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,qb(n.localStore,s)];case 8:return y=v.sent(),[4,Fb(n.localStore,y)];case 9:return u=v.sent(),[4,vE(n,qE(y),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function qE(e){return My(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function jE(e){var t=Tp(e);return Tp(Tp(t.localStore).persistence).gn()}function zE(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o,a;return bc(this,(function(s){switch(s.label){case 0:return(i=Tp(e)).Uo?(gp("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jb(i.localStore)];case 3:return o=s.sent(),a=nm.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,PE(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Ub(i.localStore,t,!0)];case 6:return s.sent(),NE(i,t,r),[3,8];case 7:_p(),s.label=8;case 8:return[2]}}))}))}function BE(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return bc(this,(function(d){switch(d.label){case 0:if(!(r=KE(e)).Uo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.$o.has(a)?(gp("SyncEngine","Adding an already active target "+a),[3,5]):[4,qb(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Fb(r.localStore,s)];case 3:return u=d.sent(),[4,vE(r,qE(s),u.targetId,!1)];case 4:d.sent(),Nw(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return bc(this,(function(t){switch(t.label){case 0:return r.$o.has(e)?[4,Ub(r.localStore,e,!1).then((function(){Cw(r.remoteStore,e),NE(r,e)})).catch(ab)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function KE(e){var t=Tp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EE.bind(null,t),t.xo.Tr=oE.bind(null,t.eventManager),t.xo.Ko=aE.bind(null,t.eventManager),t}function GE(e){var t=Tp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_E.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SE.bind(null,t),t}var QE=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return this.D=mw(e.databaseInfo.databaseId),this.sharedClientState=this.jo(e),this.persistence=this.Go(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e),[2]}}))}))},e.prototype.zo=function(e){return null},e.prototype.Ho=function(e){return Ab(this.persistence,new xb,e.initialUser,this.D)},e.prototype.Go=function(e){return new Yb(Jb.Cs,this.D)},e.prototype.jo=function(e){return new cw},e.prototype.terminate=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),HE=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Jo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return vc(t,e),t.prototype.initialize=function(t){return gc(this,void 0,void 0,(function(){return bc(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,zb(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,t)];case 3:return n.sent(),[4,GE(this.Jo.syncEngine)];case 4:return n.sent(),[4,qw(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ho=function(e){return Ab(this.persistence,new xb,e.initialUser,this.D)},t.prototype.zo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new cb(t,e.asyncQueue)},t.prototype.Go=function(e){var t=kb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hg.withCacheSize(this.cacheSizeBytes):Hg.DEFAULT;return new Sb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,yw(),vw(),this.D,this.sharedClientState,!!this.forceOwnership)},t.prototype.jo=function(e){return new cw},t}(QE),WE=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Jo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return vc(t,e),t.prototype.initialize=function(t){return gc(this,void 0,void 0,(function(){var n,r=this;return bc(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof uw?(this.sharedClientState.syncEngine={wi:FE.bind(null,n),_i:zE.bind(null,n),mi:BE.bind(null,n),gn:jE.bind(null,n),di:ME.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(e){return gc(r,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return[4,UE(this.Jo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.jo=function(e){var t=yw();if(!uw.At(t))throw new Fp(Mp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uw(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(HE),$E=function(){function e(){}return e.prototype.initialize=function(e,t){return gc(this,void 0,void 0,(function(){var n=this;return bc(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return wE(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=LE.bind(null,this.syncEngine),[4,Hw(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new nE},e.prototype.createDatastore=function(e){var t,n,r=mw(e.databaseInfo.databaseId),i=(t=e.databaseInfo,new pw(t));return n=e.credentials,new _w(n,i,r)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return wE(a.syncEngine,e,0)},o=fw.At()?new fw:new lw,new Tw(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=e.initialUser,s=e.maxConcurrentLimboResolutions,u=t,c=new pE(n,r,i,o,a,s),u&&(c.Uo=!0),c;var n,r,i,o,a,s,u,c},e.prototype.terminate=function(){return function(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=Tp(e),gp("RemoteStore","RemoteStore shutting down."),t.Qr.add(5),[4,kw(t)];case 1:return n.sent(),t.Wr.shutdown(),t.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),YE=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Yo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Xo=function(){this.muted=!0},e.prototype.Yo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),XE=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return gc(this,void 0,void 0,(function(){var t,n=this;return bc(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Fp(Mp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s;return bc(this,(function(u){switch(u.label){case 0:return n=Tp(e),r=Tm(n.D)+"/documents",i={documents:t.map((function(e){return wm(n.D,e)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t,r,i=(t=n.D,"found"in(r=e)?function(e,t){Sp(!!t.found),t.found.name,t.found.updateTime;var n=Em(e,t.found.name),r=mm(t.found.updateTime),i=new ev({mapValue:{fields:t.found.fields}});return new hy(n,r,i,{})}(t,r):"missing"in r?function(e,t){Sp(!!t.missing),Sp(!!t.readTime);var n=Em(e,t.missing),r=mm(t.readTime);return new dy(n,r)}(t,r):_p());a.set(i.key.toString(),i)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Sp(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof dy||e instanceof hy?n.recordVersion(e):_p()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Mv(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return gc(this,void 0,void 0,(function(){var e,t=this;return bc(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=zp.fromPath(n);t.mutations.push(new Fv(r,t.precondition(r)))})),[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r,i;return bc(this,(function(o){switch(o.label){case 0:return n=Tp(e),r=Tm(n.D)+"/documents",i={writes:t.map((function(e){return Nm(n.D,e)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof hy)t=e.version;else{if(!(e instanceof dy))throw _p();t=Jy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fp(Mp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?wv.updateTime(t):wv.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jy.min()))throw new Fp(Mp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wv.updateTime(t)}return wv.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),JE=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new gw(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ac()},e.prototype.ac=function(){var e=this;this.rr.Yi((function(){return gc(e,void 0,void 0,(function(){var e,t,n=this;return bc(this,(function(r){return e=new XE(this.datastore),(t=this.uc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.hc(e)}))}))})).catch((function(e){n.hc(e)})),[2]}))}))}))},e.prototype.uc=function(e){try{var t=this.updateFunction(e);return!Lp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},e.prototype.hc=function(e){var t=this;this.cc>0&&this.lc(e)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return t.ac(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.lc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Vv(t)}return!1},e}(),ZE=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Zb.UNAUTHENTICATED,this.clientId=kp.u(),this.credentialListener=function(){},this.receivedInitialUser=new hg,this.credentials.setChangeListener((function(e){gp("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Fp(Mp.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new hg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return gc(e,void 0,void 0,(function(){var e,n;return bc(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Xw(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function e_(e,t){return gc(this,void 0,void 0,(function(){var n,r,i=this;return bc(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),gp("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return gc(i,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return[4,Pb(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function t_(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,n_(e)];case 1:return n=i.sent(),gp("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:return(n=Tp(e)).asyncQueue.verifyOperationInProgress(),gp("RemoteStore","RemoteStore received new credentials"),r=Lw(n),n.Qr.add(3),[4,kw(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Qr.delete(3),[4,Iw(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function n_(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(gp("FirestoreClient","Using default OfflineComponentProvider"),[4,e_(e,new QE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function r_(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(gp("FirestoreClient","Using default OnlineComponentProvider"),[4,t_(e,new $E)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function i_(e){return n_(e).then((function(e){return e.persistence}))}function o_(e){return n_(e).then((function(e){return e.localStore}))}function a_(e){return r_(e).then((function(e){return e.remoteStore}))}function s_(e){return r_(e).then((function(e){return e.syncEngine}))}function u_(e){return gc(this,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:return[4,r_(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=yE.bind(null,t.syncEngine),n.onUnlisten=mE.bind(null,t.syncEngine),n)]}}))}))}function c_(e,t,n){var r=this;void 0===n&&(n={});var i=new hg;return e.asyncQueue.enqueueAndForget((function(){return gc(r,void 0,void 0,(function(){var r;return bc(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new YE({next:function(o){t.enqueueAndForget((function(){return iE(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Fp(Mp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Fp(Mp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new uE(Fy(n.path),o,{includeMetadataChanges:!0,uo:!0});return rE(e,a)},[4,u_(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function l_(e,t,n){var r=this;void 0===n&&(n={});var i=new hg;return e.asyncQueue.enqueueAndForget((function(){return gc(r,void 0,void 0,(function(){var r;return bc(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new YE({next:function(n){t.enqueueAndForget((function(){return iE(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Fp(Mp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new uE(n,o,{includeMetadataChanges:!0,uo:!0});return rE(e,a)},[4,u_(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var f_=function(e,t,n,r,i,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},h_=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),d_=new Map,p_=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},y_=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Zb.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),v_=function(){function e(e){var t=this;this.fc=null,this.currentUser=Zb.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){t.dc++,t.currentUser=t.wc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.dc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),e.get().then((function(e){t.auth=e,t.fc&&t.auth.addAuthTokenListener(t.fc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.dc!==t?(gp("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Sp("string"==typeof n.accessToken),new p_(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},e.prototype.wc=function(){var e=this.auth&&this.auth.getUid();return Sp(null===e||"string"==typeof e),new Zb(e)},e}(),m_=function(){function e(e,t){this._c=e,this.mc=t,this.type="FirstParty",this.user=Zb.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.mc},t=this._c.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),g_=function(){function e(e,t){this._c=e,this.mc=t}return e.prototype.getToken=function(){return Promise.resolve(new m_(this._c,this.mc))},e.prototype.setChangeListener=function(e){e(Zb.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(e,t,n){if(!n)throw new Fp(Mp.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function w_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function E_(e,t,n,r){if(!0===t&&!0===r)throw new Fp(Mp.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function __(e){if(!zp.isDocumentKey(e))throw new Fp(Mp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function S_(e){if(zp.isDocumentKey(e))throw new Fp(Mp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function T_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":_p()}function I_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fp(Mp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=T_(e);throw new Fp(Mp.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function k_(e,t){if(t<=0)throw new Fp(Mp.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N_=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fp(Mp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fp(Mp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,E_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),C_=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,e instanceof h_?(this._databaseId=e,this._credentials=new y_):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fp(Mp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new h_(e.options.projectId)}(e),this._credentials=new v_(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Fp(Mp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Fp(Mp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new y_;switch(e.type){case"gapi":var t=e.client;return Sp(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new g_(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Fp(Mp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=d_.get(this))&&(gp("ComponentProvider","Removing Datastore"),d_.delete(this),e.terminate()),Promise.resolve();var e},e}(),x_=function(e){this._delegate=e},D_=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new P_(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),A_=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),P_=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Fy(r))||this).firestore=t,i._path=r,i.type="collection",i}return vc(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new D_(this.firestore,null,new zp(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(A_);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof x_&&(e=e._delegate),b_("collection","path",t),e instanceof C_)return S_(n=Vp.fromString.apply(Vp,Ec([t],r))),new P_(e,null,n);if(!(e instanceof D_||e instanceof P_))throw new Fp(Mp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return S_(n=Vp.fromString.apply(Vp,Ec([e.path],r)).child(Vp.fromString(t))),new P_(e.firestore,null,n)}function O_(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof x_&&(e=e._delegate),1===arguments.length&&(t=kp.u()),b_("doc","path",t),e instanceof C_)return __(n=Vp.fromString.apply(Vp,Ec([t],r))),new D_(e,null,new zp(n));if(!(e instanceof D_||e instanceof P_))throw new Fp(Mp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return __(n=e._path.child(Vp.fromString.apply(Vp,Ec([t],r)))),new D_(e.firestore,e instanceof P_?e._converter:null,new zp(n))}function R_(e,t){return e instanceof x_&&(e=e._delegate),t instanceof x_&&(t=t._delegate),(e instanceof D_||e instanceof P_)&&(t instanceof D_||t instanceof P_)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function M_(e,t){return e instanceof x_&&(e=e._delegate),t instanceof x_&&(t=t._delegate),e instanceof A_&&t instanceof A_&&e.firestore===t.firestore&&Qy(e._query,t._query)&&e._converter===t._converter}var F_=function(){function e(){var e=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new gw(this,"async_queue_retry"),this.bc=function(){var t=vw();t&&gp("AsyncQueue","Visibility state changed to "+t.visibilityState),e.rr.Zi()};var t=vw();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.vc(),this.Pc(e)},e.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var e=vw();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}},e.prototype.enqueue=function(e){return this.vc(),this.Ec?new Promise((function(e){})):this.Pc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))},e.prototype.Vc=function(){return gc(this,void 0,void 0,(function(){var e,t=this;return bc(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!gg(e=n.sent()))throw e;return gp("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return t.Vc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Pc=function(e){var t=this,n=this.yc.then((function(){return t.Ac=!0,e().catch((function(e){throw t.Ic=e,t.Ac=!1,bp("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e;var n,r})).then((function(e){return t.Ac=!1,e}))}));return this.yc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.vc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Yw.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i},e.prototype.vc=function(){this.Ic&&_p()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Dc=function(){return gc(this,void 0,void 0,(function(){var e;return bc(this,(function(t){switch(t.label){case 0:return[4,e=this.yc];case 1:t.sent(),t.label=2;case 2:if(e!==this.yc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Cc=function(e){for(var t=0,n=this.Tc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.xc=function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Dc()}))},e.prototype.Nc=function(e){this.Rc.push(e)},e.prototype.Sc=function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)},e}();function U_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var V_=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new F_,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return vc(t,e),t.prototype._terminate=function(){return this._firestoreClient||j_(this),this._firestoreClient.terminate()},t}(C_);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(e){return e._firestoreClient||j_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function j_(e){var t,n,r,i=e._freezeSettings(),o=(t=e._databaseId,n=e._persistenceKey,new f_(t,n,(r=i).host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling));e._firestoreClient=new ZE(e._credentials,e._queue,o)}function z_(e,t,n){var r=this,i=new hg;return e.asyncQueue.enqueue((function(){return gc(r,void 0,void 0,(function(){var r;return bc(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,e_(e,n)];case 1:return o.sent(),[4,t_(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===Mp.FAILED_PRECONDITION||a.code===Mp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function B_(e){if(e._initialized||e._terminated)throw new Fp(Mp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K_=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jp(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),G_=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Bp.fromBase64String(t))}catch(n){throw new Fp(Mp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Bp.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Q_=function(e){this._methodName=e},H_=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fp(Mp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fp(Mp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Np(this._lat,e._lat)||Np(this._long,e._long)},e}(),W_=/^__.*__$/,$_=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new xv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cv(e,this.data,t,this.fieldTransforms)},e}(),Y_=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new xv(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _p()}}var J_=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),e.prototype.Oc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.Lc(e),r},e.prototype.Bc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.$c(),r},e.prototype.qc=function(e){return this.Oc({path:void 0,Mc:!0})},e.prototype.Uc=function(e){return gS(e,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.$c=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))},e.prototype.Lc=function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(X_(this.Fc)&&W_.test(e))throw this.Uc('Document fields cannot begin and end with "__"')},e}(),Z_=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.D=n||mw(e)}return e.prototype.Wc=function(e,t,n,r){return void 0===r&&(r=!1),new J_({Fc:e,methodName:t,Kc:n,path:jp.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},e}();function eS(e){var t=e._freezeSettings(),n=mw(e._databaseId);return new Z_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tS(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Wc(o.merge||o.mergeFields?2:0,t,n,i);pS("Data must be an object, but it was:",a,r);var s,u,c=hS(r,a);if(o.merge)s=new Zy(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=yS(t,h[f],n);if(!a.contains(d))throw new Fp(Mp.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");bS(l,d)||l.push(d)}s=new Zy(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new $_(new ev(c),s,u)}var nS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Fc)throw 1===e.Fc?e.Uc(this._methodName+"() can only appear at the top level of your update data"):e.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Q_);function rS(e,t,n){return new J_({Fc:3,Kc:t.settings.Kc,methodName:e._methodName,Mc:n},t.databaseId,t.D,t.ignoreUndefinedProperties)}var iS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype._toFieldTransform=function(e){return new gv(e.path,new lv)},t.prototype.isEqual=function(e){return e instanceof t},t}(Q_),oS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return vc(t,e),t.prototype._toFieldTransform=function(e){var t=rS(this,e,!0),n=this.jc.map((function(e){return fS(e,t)})),r=new fv(n);return new gv(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Q_),aS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return vc(t,e),t.prototype._toFieldTransform=function(e){var t=rS(this,e,!0),n=this.jc.map((function(e){return fS(e,t)})),r=new dv(n);return new gv(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Q_),sS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Gc=n,r}return vc(t,e),t.prototype._toFieldTransform=function(e){var t=new yv(e.D,ov(e.D,this.Gc));return new gv(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Q_);function uS(e,t,n,r){var i=e.Wc(1,t,n);pS("Data must be an object, but it was:",i,r);var o=[],a=new tv;Ap(r,(function(e,r){var s=mS(t,e,n);r instanceof x_&&(r=r._delegate);var u=i.Bc(s);if(r instanceof nS)o.push(s);else{var c=fS(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Zy(o);return new Y_(a.v(),s,i.fieldTransforms)}function cS(e,t,n,r,i,o){var a=e.Wc(1,t,n),s=[yS(t,r,n)],u=[i];if(o.length%2!=0)throw new Fp(Mp.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(yS(t,o[c])),u.push(o[c+1]);for(var l=[],f=new tv,h=s.length-1;h>=0;--h)if(!bS(l,s[h])){var d=s[h],p=u[h];p instanceof x_&&(p=p._delegate);var y=a.Bc(d);if(p instanceof nS)l.push(d);else{var v=fS(p,y);null!=v&&(l.push(d),f.set(d,v))}}var m=new Zy(l);return new Y_(f.v(),m,a.fieldTransforms)}function lS(e,t,n,r){return void 0===r&&(r=!1),fS(n,e.Wc(r?4:3,t))}function fS(e,t){if(e instanceof x_&&(e=e._delegate),dS(e))return pS("Unsupported field value:",t,e),hS(e,t);if(e instanceof Q_)return function(e,t){if(!X_(t.Fc))throw t.Uc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Uc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Mc&&4!==t.Fc)throw t.Uc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=fS(o[i],t.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(e instanceof x_&&(e=e._delegate),null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ov(t.D,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Wp.fromDate(e);return{timestampValue:pm(t.D,n)}}if(e instanceof Wp)return n=new Wp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:pm(t.D,n)};if(e instanceof H_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof G_)return{bytesValue:ym(t.D,e._byteString)};if(e instanceof D_){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:gm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: "+T_(e))}(e,t)}function hS(e,t){var n={};return Pp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ap(e,(function(e,r){var i=fS(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wp||e instanceof H_||e instanceof G_||e instanceof D_||e instanceof Q_)}function pS(e,t,n){if(!dS(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=T_(n);throw"an object"===r?t.Uc(e+" a custom object"):t.Uc(e+" "+r)}var i}function yS(e,t,n){if(t instanceof x_&&(t=t._delegate),t instanceof K_)return t._internalPath;if("string"==typeof t)return mS(e,t);throw gS("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var vS=new RegExp("[~\\*/\\[\\]]");function mS(e,t,n){if(t.search(vS)>=0)throw gS("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(K_.bind.apply(K_,Ec([void 0],t.split(".")))))._internalPath}catch(r){throw gS("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function gS(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Fp(Mp.INVALID_ARGUMENT,(s+=". ")+e+u)}function bS(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wS=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new D_(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new ES(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data().field(_S("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),ES=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(wS);function _S(e,t){return"string"==typeof t?mS(e,t):t instanceof x_?t._delegate._internalPath:t._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SS=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),TS=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return vc(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new IS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data().field(_S("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(wS),IS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(TS),kS=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new SS(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new IS(n._firestore,n._userDataWriter,r.key,r,new SS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fp(Mp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new IS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new IS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:NS(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function NS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _p()}}function CS(e,t){return e instanceof TS&&t instanceof TS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof kS&&t instanceof kS&&e._firestore===t._firestore&&M_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(e){if(Vy(e)&&0===e.explicitOrderBy.length)throw new Fp(Mp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var DS=function(){};function AS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var PS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).zc=t,i.Hc=n,i.Jc=r,i.type="where",i}return vc(t,e),t.prototype._apply=function(e){var t,n,r,i=eS(e.firestore),o=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){VS(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(US(r,e,f))}s={arrayValue:{values:u}}}else s=US(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||VS(a,o),s=lS(n,"where",a,"in"===o||"not-in"===o);var h=wy.create(i,o,s);return function(e,t){if(t.g()){var n=jy(e);if(null!==n&&!n.isEqual(t.field))throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=qy(e);null!==r&&qS(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Fp(Mp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Fp(Mp.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,i,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new A_(e.firestore,e._converter,(t=e._query,n=o,r=t.filters.concat([n]),new Ry(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))},t}(DS),LS=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).zc=t,r.Yc=n,r.type="orderBy",r}return vc(t,e),t.prototype._apply=function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ay(t,n);return function(e,t){if(null===qy(e)){var n=jy(e);null!==n&&qS(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new A_(e.firestore,e._converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new Ry(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},t}(DS),OS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return vc(t,e),t.prototype._apply=function(e){return new A_(e.firestore,e._converter,Gy(e._query,this.Xc,this.Zc))},t}(DS),RS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return vc(t,e),t.prototype._apply=function(e){var t,n,r=FS(e,this.type,this.ta,this.ea);return new A_(e.firestore,e._converter,(t=e._query,n=r,new Ry(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))},t}(DS),MS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return vc(t,e),t.prototype._apply=function(e){var t,n,r=FS(e,this.type,this.ta,this.ea);return new A_(e.firestore,e._converter,(t=e._query,n=r,new Ry(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))},t}(DS);function FS(e,t,n,r){if(n[0]instanceof x_&&(n[0]=n[0]._delegate),n[0]instanceof wS)return function(e,t,n,r,i){if(!r)throw new Fp(Mp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=By(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(oy(t,r.key));else{var c=r.field(u.field);if($p(c))throw new Fp(Mp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new xy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=eS(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Fp(Mp.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!zy(e)&&-1!==c.indexOf("/"))throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Vp.fromString(c));if(!zp.isDocumentKey(l))throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new zp(l);s.push(oy(t,f))}else{var h=lS(n,r,c);s.push(h)}}return new xy(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function US(e,t,n){if(n instanceof x_&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zy(t)&&-1!==n.indexOf("/"))throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Vp.fromString(n));if(!zp.isDocumentKey(r))throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return oy(e,new zp(r))}if(n instanceof D_)return oy(e,n._key);throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+T_(n)+".")}function VS(e,t){if(!Array.isArray(e)||0===e.length)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function qS(e,t,n){if(!n.isEqual(t))throw new Fp(Mp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jS=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Jp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _p()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Ap(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new H_(Qp(e.latitude),Qp(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Yp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Xp(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Gp(e);return new Wp(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Vp.fromString(e);Sp(zm(n));var r=new h_(n.get(1),n.get(3)),i=new zp(n.popFirst(5));return r.isEqual(t)||bp("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var BS=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return vc(t,e),t.prototype.convertBytes=function(e){return new G_(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new D_(this.firestore,null,t)},t}(jS),KS=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eS(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=GS(e,this._firestore),i=zS(r._converter,t,n),o=tS(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,wv.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=GS(e,this._firestore);return t instanceof x_&&(t=t._delegate),o="string"==typeof t||t instanceof K_?cS(this._dataReader,"WriteBatch.update",a._key,t,n,r):uS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,wv.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=GS(e,this._firestore);return this._mutations=this._mutations.concat(new Mv(t._key,wv.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Fp(Mp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(e,t){if(e instanceof x_&&(e=e._delegate),e.firestore!==t)throw new Fp(Mp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QS=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return vc(t,e),t.prototype.convertBytes=function(e){return new G_(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new D_(this.firestore,null,t)},t}(jS);function HS(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=I_(e,D_);var o=I_(e.firestore,V_),a=eS(o);return t instanceof x_&&(t=t._delegate),$S(o,[("string"==typeof t||t instanceof K_?cS(a,"updateDoc",e._key,t,n,r):uS(a,"updateDoc",e._key,t)).toMutation(e._key,wv.exists(!0))])}function WS(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e instanceof x_&&(e=e._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||U_(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(U_(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof D_)c=I_(e.firestore,V_),l=Fy(e._key.path),u={next:function(t){i[s]&&i[s](YS(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=I_(e,A_);c=I_(d.firestore,V_),l=d._query;var p=new QS(c);u={next:function(e){i[s]&&i[s](new kS(c,p,d,e))},error:i[s+1],complete:i[s+2]},xS(e._query)}return function(e,t,n,r){var i=this,o=new YE(r),a=new uE(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return gc(i,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=rE,[4,u_(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Xo(),e.asyncQueue.enqueueAndForget((function(){return gc(i,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=iE,[4,u_(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(q_(c),l,f,u)}function $S(e,t){return function(e,t){var n=this,r=new hg;return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var n;return bc(this,(function(i){switch(i.label){case 0:return n=gE,[4,s_(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(q_(e),t)}function YS(e,t,n){var r=n.docs.get(t._key),i=new QS(e);return new TS(e,i,t._key,r,new SS(n.hasPendingWrites,n.fromCache),t._converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return vc(t,e),t.prototype.get=function(t){var n=this,r=GS(t,this._firestore),i=new QS(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new TS(n._firestore,i,r._key,e._document,new SS(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=eS(e)}return e.prototype.get=function(e){var t=this,n=GS(e,this._firestore),r=new BS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return _p();var i=e[0];if(i instanceof dy)return new wS(t._firestore,r,n._key,null,n._converter);if(i instanceof hy)return new wS(t._firestore,r,i.key,i,n._converter);throw _p()}))},e.prototype.set=function(e,t,n){var r=GS(e,this._firestore),i=zS(r._converter,t,n),o=tS(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=GS(e,this._firestore);return t instanceof x_&&(t=t._delegate),o="string"==typeof t||t instanceof K_?cS(this._dataReader,"Transaction.update",a._key,t,n,r):uS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=GS(e,this._firestore);return this._transaction.delete(t._key),this},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){if("undefined"==typeof Uint8Array)throw new Fp(Mp.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ZS(){if("undefined"==typeof atob)throw new Fp(Mp.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var eT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.fromBase64String=function(e){return ZS(),new t(G_.fromBase64String(e))},t.fromUint8Array=function(e){return JS(),new t(G_.fromUint8Array(e))},t.prototype.toBase64=function(){return ZS(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return JS(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(x_),tT=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){B_(e=I_(e,V_));var n=q_(e),r=e._freezeSettings(),i=new $E;return z_(n,i,new HE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){B_(e=I_(e,V_));var t=q_(e),n=e._freezeSettings(),r=new $E;return z_(t,r,new WE(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Fp(Mp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new hg;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return gc(t,void 0,void 0,(function(){var t;return bc(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return yg.At()?(t=e+"main",[4,yg.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(kb(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),nT=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},t instanceof h_||(i.sa=t),i}return vc(t,e),Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,t){var n,r,i,o;n=this._delegate,r=e,i=t,"firestore.googleapis.com"!==(o=(n=I_(n,C_))._getSettings()).host&&o.host!==r&&wp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:r+":"+i,ssl:!1}))},t.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return gc(t,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:return[4,i_(e)];case 1:return t=r.sent(),[4,a_(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),i=n,o=Tp(i),o.Qr.delete(0),Iw(o))]}var i,o}))}))}))}(q_(I_(this._delegate,V_)))},t.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return gc(t,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:return[4,i_(e)];case 1:return t=r.sent(),[4,a_(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return(t=Tp(e)).Qr.add(0),[4,kw(t)];case 1:return n.sent(),t.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(q_(I_(this._delegate,V_)))},t.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&E_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new hg;return e.asyncQueue.enqueueAndForget((function(){return gc(t,void 0,void 0,(function(){var t;return bc(this,(function(r){switch(r.label){case 0:return t=TE,[4,s_(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(q_(I_(this._delegate,V_)))},t.prototype.onSnapshotsInSync=function(e){return t=this._delegate,n=e,function(e,t){var n=this,r=new YE(t);return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=function(e,t){Tp(e).Zr.add(t),t.next()},[4,u_(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=function(e,t){Tp(e).Zr.delete(t)},[4,u_(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(q_(t=I_(t,V_)),U_(n)?n:{next:n});var t,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.sa)throw new Fp(Mp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new vT(this,L_(this._delegate,e))}catch(t){throw uT(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new sT(this,O_(this._delegate,e))}catch(t){throw uT(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new dT(this,function(e,t){if(e=I_(e,C_),b_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new A_(e,null,(n=t,new Ry(Vp.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw uT(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new hg;return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var n;return bc(this,(function(i){switch(i.label){case 0:return[4,(o=e,r_(o).then((function(e){return e.datastore})))];case 1:return n=i.sent(),new JE(e.asyncQueue,n,t,r).run(),[2]}var o}))}))})),r.promise}(q_(t=this._delegate),(function(r){return function(t){return e(new iT(n,t))}(new XS(t,r))}))},t.prototype.batch=function(){var e=this;return q_(this._delegate),new oT(new KS(this._delegate,(function(t){return $S(e._delegate,t)})))},t.prototype.loadBundle=function(e){throw new Fp(Mp.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Fp(Mp.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(x_),rT=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return vc(t,e),t.prototype.convertBytes=function(e){return new eT(new G_(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return sT.ia(t,this.firestore,null)},t}(jS);var iT=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r._userDataWriter=new rT(t),r}return vc(t,e),t.prototype.get=function(e){var t=this,n=mT(e);return this._delegate.get(n).then((function(e){return new fT(t._firestore,new TS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},t.prototype.set=function(e,t,n){var r=mT(e);return n?(w_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=mT(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Ec([a,t,n],i)),this},t.prototype.delete=function(e){var t=mT(e);return this._delegate.delete(t),this},t}(x_),oT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype.set=function(e,t,n){var r=mT(e);return n?(w_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=mT(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Ec([a,t,n],i)),this},t.prototype.delete=function(e){var t=mT(e);return this._delegate.delete(t),this},t.prototype.commit=function(){return this._delegate.commit()},t}(x_),aT=function(e){function t(t,n,r){var i=this;return(i=e.call(this,r)||this)._firestore=t,i._userDataWriter=n,i}return vc(t,e),t.prototype.fromFirestore=function(e,t){var n=new IS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hT(this._firestore,n),null!=t?t:{})},t.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},t.ra=function(e,n){var r=t.oa,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new rT(e),n),i.set(n,o)),o},t}(x_);aT.oa=new WeakMap;var sT=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new rT(t),r}return vc(t,e),t.ca=function(e,n,r){if(e.length%2!=0)throw new Fp(Mp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new D_(n._delegate,r,new zp(e)))},t.ia=function(e,n,r){return new t(n,new D_(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vT(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new vT(this.firestore,L_(this._delegate,e))}catch(t){throw uT(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return e instanceof x_&&(e=e._delegate),e instanceof D_&&R_(this._delegate,e)},t.prototype.set=function(e,t){t=w_("DocumentReference.set",t);try{return function(e,t,n){e=I_(e,D_);var r=I_(e.firestore,V_),i=zS(e._converter,t,n);return $S(r,[tS(eS(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,wv.none())])}(this._delegate,e,t)}catch(n){throw uT(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?HS(this._delegate,e):HS.apply(void 0,Ec([this._delegate,e,t],n))}catch(i){throw uT(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return $S(I_((e=this._delegate).firestore,V_),[new Mv(e._key,wv.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=cT(t),i=lT(t,(function(t){return new fT(e.firestore,new TS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return WS(this._delegate,r,i)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=I_(e,D_);var t=I_(e.firestore,V_),n=q_(t),r=new QS(t);return function(e,t){var n=this,r=new hg;return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var n;return bc(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return gc(this,void 0,void 0,(function(){var r,i;return bc(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=e,s=t,u=Tp(a),u.persistence.runTransaction("read document","readonly",(function(e){return u.Kn.In(e,s)})))];case 1:return(i=o.sent())instanceof hy?n.resolve(i):i instanceof dy?n.resolve(null):n.reject(new Fp(Mp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Xw(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s,u}))}))},[4,o_(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new TS(t,r,e._key,n,new SS(n instanceof hy&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=I_(e,D_);var t=I_(e.firestore,V_);return c_(q_(t),e._key,{source:"server"}).then((function(n){return YS(t,e,n)}))}(this._delegate):function(e){e=I_(e,D_);var t=I_(e.firestore,V_);return c_(q_(t),e._key).then((function(n){return YS(t,e,n)}))}(this._delegate)).then((function(e){return new fT(t.firestore,new TS(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(aT.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(x_);function uT(e,t,n){return e.message=e.message.replace(t,n),e}function cT(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!U_(r))return r}return{}}function lT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=U_(e[0])?e[0]:U_(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fT=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return vc(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new sT(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,t){return this._delegate.get(e,t)},t.prototype.isEqual=function(e){return CS(this._delegate,e._delegate)},t}(x_),hT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(fT),dT=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new rT(t),r}return vc(t,e),t.prototype.where=function(e,n,r){try{return new t(this.firestore,AS(this._delegate,(o=r,a=n,s=_S("where",i=e),new PS(s,a,o))))}catch(i){throw uT(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,a,s},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,AS(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=_S("orderBy",e);return new LS(r,n)}(e,n)))}catch(r){throw uT(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,AS(this._delegate,(k_("limit",n=e),new OS("limit",n,"F"))))}catch(n){throw uT(n,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,AS(this._delegate,(k_("limitToLast",n=e),new OS("limitToLast",n,"L"))))}catch(n){throw uT(n,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,AS(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new RS("startAt",e,!0)}.apply(void 0,e)))}catch(r){throw uT(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,AS(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new RS("startAfter",e,!1)}.apply(void 0,e)))}catch(r){throw uT(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,AS(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new MS("endBefore",e,!0)}.apply(void 0,e)))}catch(r){throw uT(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,AS(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new MS("endAt",e,!1)}.apply(void 0,e)))}catch(r){throw uT(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return M_(this._delegate,e._delegate)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=I_(e,A_);var t=I_(e.firestore,V_),n=q_(t),r=new QS(t);return function(e,t){var n=this,r=new hg;return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var n;return bc(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a,s;return bc(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Vb(e,t,!0)];case 1:return s=u.sent(),r=new fE(t,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Xw(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,o_(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new kS(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=I_(e,A_);var t=I_(e.firestore,V_),n=q_(t),r=new QS(t);return l_(n,e._query,{source:"server"}).then((function(n){return new kS(t,r,e,n)}))}(this._delegate):function(e){e=I_(e,A_);var t=I_(e.firestore,V_),n=q_(t),r=new QS(t);return xS(e._query),l_(n,e._query).then((function(n){return new kS(t,r,e,n)}))}(this._delegate)).then((function(e){return new yT(t.firestore,new kS(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=cT(t),i=lT(t,(function(t){return new yT(e.firestore,new kS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return WS(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(aT.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(x_),pT=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return vc(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new hT(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(x_),yT=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return vc(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new dT(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new hT(e._firestore,t)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new pT(t._firestore,e)}))},t.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new hT(n._firestore,r))}))},t.prototype.isEqual=function(e){return CS(this._delegate,e._delegate)},t}(x_),vT=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return vc(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new sT(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new sT(this.firestore,void 0===e?O_(this._delegate):O_(this._delegate,e))}catch(t){throw uT(t,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t,n,r,i,o,a=this;return(t=this._delegate,n=e,r=I_(t.firestore,V_),i=O_(t),o=zS(t._converter,n),$S(r,[tS(eS(t.firestore),"addDoc",i._key,o,null!==t._converter,{}).toMutation(i._key,wv.exists(!1))]).then((function(){return i}))).then((function(e){return new sT(a.firestore,e)}))},t.prototype.isEqual=function(e){return R_(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(aT.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(dT);function mT(e){return e instanceof x_&&(e=e._delegate),I_(e,D_)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var gT,bT=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,new(K_.bind.apply(K_,Ec([void 0],t))))||this}return vc(t,e),t.documentId=function(){return new t(jp.keyField().canonicalString())},t.prototype.isEqual=function(e){return e instanceof x_&&(e=e._delegate),e instanceof K_&&this._delegate._internalPath.isEqual(e._internalPath)},t}(x_),wT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.serverTimestamp=function(){var e=new iS("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new nS("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new oS("arrayUnion",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new aS("arrayRemove",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new sS("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(x_),ET={Firestore:nT,GeoPoint:H_,Timestamp:Wp,Blob:eT,Transaction:iT,WriteBatch:oT,DocumentReference:sT,DocumentSnapshot:fT,Query:dT,QueryDocumentSnapshot:hT,QuerySnapshot:yT,CollectionReference:vT,FieldPath:bT,FieldValue:wT,setLogLevel:function(e){var t;t=e,vp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(gT=ul).INTERNAL.registerComponent(new Oc("firestore",(function(e){return function(e,t){return new nT(e,new V_(e,t),new tT)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ET))),gT.registerVersion("@firebase/firestore","2.2.1");export{pc as a,ul as f,s as r};
